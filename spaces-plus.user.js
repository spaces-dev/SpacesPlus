// ==UserScript==
// @name        Spaces+
// @version     3.1.3
// @author      Vitalij Ryndin
// @description üöÄ Powerful userscript for Spaces.ru
// @homepage    https://spaces-dev.github.io/SpacesPlus
// @icon        https://spaces-dev.github.io/SpacesPlus/icons/logo_96.png
// @include     /^(http|https)://(spaces.ru|spcs.me|spaces.im|gdespaces.com|spac1.com|spac1.net|spaces-blogs.com).*$/
// @homepageURL https://github.com/spaces-dev/SpacesPlus
// @require     https://spaces-dev.github.io/SpacesPlus/libs/colorpicker.js
// @grant       none
// ==/UserScript==

!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=9)}([function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s(11),t),r(s(12),t),r(s(14),t),r(s(5),t),r(s(15),t),r(s(3),t),r(s(16),t),r(s(17),t),r(s(19),t),r(s(20),t),r(s(21),t),r(s(22),t),r(s(23),t),r(s(24),t),r(s(25),t),r(s(26),t),r(s(27),t),r(s(28),t),r(s(29),t)},function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PKG_VERSION=t.REVISION=t.ENV_PATH=t.BASE_URL=t.GITHUB=t.DEVICE=t.HOST=t.HTTP=t.DATA=t.DEV=void 0;const r=n(s(18));t.DEV=!1;const i=document.location.protocol;t.HTTP=i;const a=document.location.hostname;t.HOST=a;const o=`${i}//${a}`;t.BASE_URL=o;const l=r.default.version;t.PKG_VERSION=l;const c=r.default.homepage;t.GITHUB=c;const d=Number(new Date);t.REVISION=d;const p=window.Device||unsafeWindow.Device;t.DEVICE=p;const u=c;t.ENV_PATH=u;const _={CK:"",SID:"",USERNAME:"",BANNED:null,ONLINE:null,NICKNAME:null,CONTENT:null,EVENTS:0,PLAYER:0,VERSION:Number(l.split(".").join(""))};t.DATA=_},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._SETTINGS=t._SETSTRINGS=t._DESCSTRINGS=void 0;const n=s(1);t._DESCSTRINGS={blogsd:`–§—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–∞–ª—è—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–≥–æ–≤.</br></br><img src="${n.ENV_PATH}/screens/sort-blogs.png"></br>–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ <a href="${n.BASE_URL}/diary/view/?Short=0&sort=0">"–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–º –≤–∏–¥–µ"</a> (–Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å —ç—Ç–æ—Ç –≤–∏–¥ - –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –≤–∞—à–∏–º–∏ –±–ª–æ–≥–∞–º–∏).`,readersd:"–§—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–∞–ª—è—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç–µ–ª–µ–π, –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∞–º —ç—Ç–æ –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è.",comments:"–§—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–∞ —Ç–µ–º, –∫—Ç–æ —á–∞—Å—Ç–æ —É–¥–∞–ª—è–µ—Ç –º–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ, –≥–¥–µ —É –í–∞—Å –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –±—É–¥—å —ç—Ç–æ –≤–∞—à –±–ª–æ–≥ –∏–ª–∏ –≥–æ—Å—Ç–µ–≤–∞—è.",blockedfiles:"–§—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–æ–º (Spaces+ –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –≤–∏—Ä—É—Å–∞–º–∏!).",oldheader:"–§—É–Ω–∫—Ü–∏—è –º–µ–Ω—è–µ—Ç –∫–Ω–æ–ø–∫—É –ø–æ—á—Ç—ã –∏ –ª–µ–Ω—Ç—ã –º–µ—Å—Ç–∞–º–∏, –∫–∞–∫ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ.",playerdn:`<img src="${n.ENV_PATH}/screens/player-download.png"></br>–î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –≤ –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–Ω—ã–π –≤–∞–º–∏ —Ç—Ä–µ–∫.`,dredirect:"–§—É–Ω–∫—Ü–∏—è –∏–∑–±–∞–≤–ª—è–µ–º –í–∞—Å –æ—Ç –Ω–∞–∑–æ–π–ª–∏–≤–æ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ –≤–Ω–µ—à–Ω–µ–π —Å—Å—ã–ª–∫–µ.",online:"–§—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∞–Ω–∫–µ—Ç–∞—Ö.",coins:"–§—É–Ω–∫—Ü–∏—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ –∏—â–µ—Ç –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –±–æ–Ω—É—Å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã.",rscroll:"–ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –ø–æ–ª–æ—Å—É –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª–∞ –Ω–∞ –ø—Ä–∞–≤—É—é —Å—Ç–æ—Ä–æ–Ω—É.",hrightbar:'–§—É–Ω–∫—Ü–∏—è —Å–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–æ–µ –º–µ–Ω—é (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ 25% —à–∏—Ä–µ).</br></br>–ö–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç c —Ñ—É–Ω–∫—Ü–∏–µ–π "–í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã".',favorite:`<img src="${n.ENV_PATH}/screens/favorite-user.png"></br>–§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–Ω–æ–ø–∫—É "–í –∑–∞–∫–ª–∞–¥–∫–∏". –ü–æ–≤—Ç–æ—Ä–Ω–æ –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É, –í—ã —Å–º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –∑–∞–∫–ª–∞–¥–æ–∫.`,userbypass:`<img src="${n.ENV_PATH}/screens/bypass-profile.png"></br>–§—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã —É –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö/—É–¥–∞–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω —É –í–∞—Å –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ.`,grotate:`<img src="${n.ENV_PATH}/screens/rotate-image.png"></br>–î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –≤ –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π, —Å –ø–æ–º–æ—â—å—é –µ–µ –º–æ–∂–Ω–æ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.`,adblock:"–§—É–Ω–∫—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞–∑–æ–π–ª–∏–≤—É—é —Ä–µ–∫–ª–∞–º—É –∏ –Ω–µ —Ç–æ–ª—å–∫–æ.",stickyheader:"–§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä–µ–ø–ª—è–µ—Ç —à–∞–ø–∫—É —Å–∞–π—Ç–∞.",playback:`<img src="${n.ENV_PATH}/screens/video-speed.png"></br>–í –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤–∏–¥–µ–æ, –ø—Ä–∏–º–µ—Ä–Ω–æ –∫–∞–∫ –Ω–∞ YouTube.`,recents:`<img src="${n.ENV_PATH}/screens/recent-smiles.png"></br>–í –º–µ–Ω—é —Å–º–∞–π–ª–∏–∫–æ–≤ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª —Å —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–º–∞–π–ª–∏–∫–∞–º–∏, –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ —Ä–∞–∑–¥–µ–ª, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–º–∞–π–ª–∏–∫–∏/—Å—Ç–∏–∫–µ—Ä—ã –∏–∑ –º–µ–Ω—é —Å–º–∞–π–ª–∏–∫–æ–≤.`,karma:"–§—É–Ω–∫—Ü–∏—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –Ω–∞–∑–æ–π–ª–∏–≤—É—é –∫–∞—Ä–º—É.",friendsOn:`<img src="${n.ENV_PATH}/screens/friends-online.png"></br>–§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –ª–µ–≤–æ–µ –º–µ–Ω—é –ø–∞–Ω–µ–ª—å —Å –¥—Ä—É–∑—å—è–º–∏ –æ–Ω–ª–∞–π–Ω. –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å —Ä–∞–∑–¥–µ–ª <a href="${n.BASE_URL}/sidebar/links/?T=4">–î—Ä—É–∑—å—è</a>, –µ—Å–ª–∏ –æ–Ω —É –≤–∞—Å –≤—ã–∫–ª—é—á–µ–Ω.</br></br>–ü–∞–Ω–µ–ª—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –æ—Ç 1 –¥–æ 15 –¥—Ä—É–∑–µ–π –æ–Ω–ª–∞–π–Ω.`,bodystyle:"–ü–æ–∑–≤–æ–ª—è–µ—Ç —É–∫—Ä–∞—à–∞—Ç—å —Ñ–æ–Ω —Å–∞–π—Ç–∞ –Ω–∞ —Å–≤–æ–π –≤–∫—É—Å. –í –ø–æ–¥–±–æ—Ä–∫–µ –∏–º–µ–µ—Ç—Å—è 20 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Ñ–æ–Ω–∞, —Ç–∞–∫–∂–µ –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Ü–≤–µ—Ç–Ω–æ–π —Ñ–æ–Ω.",weather:`<img src="${n.ENV_PATH}/screens/weather-widget.png"></br>–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ–≥–æ–¥—ã, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –æ–±–ª–∞—á–Ω–æ—Å—Ç—å, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –¥–∞–≤–ª–µ–Ω–∏–µ –∏ –≤–µ—Ç–µ—Ä.</br></br>–ò–º–µ–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–∏—Ç—å –≥–æ—Ä–æ–¥, API-–ö–ª—é—á –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã.`,sticker:`–§—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∏–∫–µ—Ä—ã. –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–æ—á—Ç–µ (–ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑ <a href="${n.BASE_URL}/mail/write/">"–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"</a> –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!), –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–ª–æ–≥–æ–≤ –∏–ª–∏ —Ç–µ–º –Ω–∞ —Ñ–æ—Ä—É–º–µ.`},t._SETSTRINGS={blogsd:"–ü–∞–∫–µ—Ç–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –±–ª–æ–≥–æ–≤",readersd:"–ü–∞–∫–µ—Ç–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–∏—Ç–∞—Ç–µ–ª–µ–π",comments:"–ü–∞–∫–µ—Ç–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤",blockedfiles:"–°—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã",oldheader:"–°—Ç–∞—Ä–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ —à–∞–ø–∫–µ",playerdn:"–ö–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç—Ä–µ–∫–∞ –∏–∑ –ø–ª–µ–µ—Ä–∞",dredirect:"–í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞",online:"–¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω –≤ –∞–Ω–∫–µ—Ç–∞—Ö",coins:"–°–æ–±–∏—Ä–∞—Ç—å –±–æ–Ω—É—Å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã",rscroll:"–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø—Ä–∞–≤–∞",hrightbar:"–°–∫—Ä—ã—Ç—å –ø—Ä–∞–≤–æ–µ –º–µ–Ω—é",favorite:"–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏",userbypass:"–ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π",grotate:"–ü–æ–≤–æ—Ä–æ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π",adblock:"–°–∫—Ä—ã–≤–∞—Ç—å —Ä–µ–∫–ª–∞–º—É",stickyheader:"–ó–∞–∫—Ä–µ–ø–∏—Ç—å —à–∞–ø–∫—É",playback:"–ö–Ω–æ–ø–∫–∞ —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤–∏–¥–µ–æ",recents:"–†–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–º–∞–π–ª–∏–∫–∏",karma:"–°–æ–±–∏—Ä–∞—Ç—å –∫–∞—Ä–º—É",friendsOn:"–ü–∞–Ω–µ–ª—å –¥—Ä—É–∑–µ–π –æ–Ω–ª–∞–π–Ω",bodystyle:"–§–æ–Ω —Å–∞–π—Ç–∞",weather:"–í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã",sticker:"–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã"},t._SETTINGS={blogsd:!1,readersd:!1,comments:!1,blockedfiles:!0,oldheader:!0,playerdn:!0,dredirect:!0,online:!0,coins:!0,rscroll:!1,hrightbar:!1,favorite:!0,grotate:!0,angle:0,userbypass:!0,adblock:!0,stickyheader:!0,apidebug:!1,karma:!0,sticker:!0,playback:!0,videoSpeed:1,upVersion:n.DATA.VERSION,beta:!1,hideNotify:{configImport:!1},recents:!0,recentSmiles:{show:!1,max:60},friendsOn:!0,friendsSet:{max:10},bodystyle:!0,bodystyleSet:{url:n.ENV_PATH+"/backgrounds/default.png",color:"#DAE1E8",urlchecked:!0,colorchecked:!1},weather:!1,weatherSet:{interval:3600,time:0,city:null,language:"ru",units:"metric",key:"5f11ea40424990937175d20a072e0c72"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;const n=s(13);t.logger=new class{constructor(){this.logger=new n.Debugger(console,!0,"[S+]: "),this.styles=["background: steelblue","background: green","background: darkorange","background: darkred"]}log(e,t){this.logger.log("%c"+e,this.styles[0],t)}info(e,t){this.logger.info("%c"+e,this.styles[1],t)}warn(e,t){this.logger.warn("%c"+e,this.styles[2],t)}error(e,t){this.logger.error("%c"+e,this.styles[3],t)}}},function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s(10),t),r(s(30),t),r(s(31),t),r(s(32),t),r(s(6),t),r(s(33),t),r(s(34),t),r(s(35),t),r(s(36),t),r(s(37),t),r(s(38),t),r(s(39),t),r(s(40),t),r(s(41),t),r(s(7),t),r(s(42),t),r(s(43),t),r(s(44),t),r(s(45),t),r(s(46),t),r(s(47),t),r(s(48),t),r(s(49),t),r(s(50),t),r(s(51),t),r(s(52),t),r(s(53),t),r(s(54),t),r(s(55),t),r(s(56),t),r(s(57),t),r(s(58),t),r(s(8),t),r(s(59),t),r(s(60),t),r(s(61),t),r(s(62),t),r(s(64),t),r(s(65),t),r(s(66),t),r(s(68),t)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extend=void 0;t.extend=(e,t)=>{for(let s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStyles=void 0;const n=s(0),r=s(1),i=s(2);t.setStyles=()=>{let e=n.qs("#SP_PLUS_INJSTYLE")||n.ce("style",{id:"SP_PLUS_INJSTYLE",type:"text/css"});if(!n.qs("#SP_STICKER_CSS")){let e=n.ce("link",{rel:"stylesheet",type:"text/css",id:"SP_STICKER_CSS",href:`${r.ENV_PATH}/css/sticker.css?r=${r.REVISION}`});document.getElementsByTagName("head")[0].appendChild(e)}if(!n.qs("#SP_PLUS_MENU")){let e=n.ce("link",{rel:"stylesheet",type:"text/css",id:"SP_PLUS_MENU",href:`${r.ENV_PATH}/css/menu.css?r=${r.REVISION}`});document.getElementsByTagName("head")[0].appendChild(e)}i._SETTINGS.bodystyle&&(i._SETTINGS.bodystyleSet.url&&i._SETTINGS.bodystyleSet.urlchecked&&(e.innerHTML=`body,#main_wrap{background-image:url(${i._SETTINGS.bodystyleSet.url})}`),i._SETTINGS.bodystyleSet.color&&i._SETTINGS.bodystyleSet.colorchecked&&(e.innerHTML=`body,#main_wrap{background-color:${i._SETTINGS.bodystyleSet.color}}`)),document.getElementsByTagName("head")[0].appendChild(e)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkUpdates=t.getUpdater=void 0;const n=s(0),r=s(2),i=s(1);t.getUpdater=e=>{try{n.http("GET",`${i.ENV_PATH}/updater.json?r=${i.REVISION}`,!1).then(t=>{const s=t.parsedBody;if(n.logger.info("–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π",t),200===t.status&&(null==s?void 0:s.history))return e(s)})}catch(e){n.logger.error("getUpdater",e)}};t.checkUpdates=()=>{try{t.getUpdater(e=>{let t=0;if(r._SETTINGS.upVersion&&(t=r._SETTINGS.upVersion),i.DATA.VERSION=Math.max(t,i.DATA.VERSION),e.history[0].build>i.DATA.VERSION&&(n.modalMessage("–î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è Spaces+ "+n.rever(e.history[0].build),`<div class="pad_t_a"></div>${e.history[0].changes}<div id="SP_UPDATER_BUTTONS" class="pad_t_a"><a class="btn btn_green btn_input" href="${i.ENV_PATH}/spaces-plus.user.js?r=${i.REVISION}" onclick="document.body.removeChild(this.parentNode.parentNode.parentNode.parentNode)">–û–±–Ω–æ–≤–∏—Ç—å</a></div>`,!0),n.qs("#SP_PLUS_ALERT"))){const t=n.ce("a",{href:"#",className:"btn btn_white btn_input right sticker-close_btn",innerHTML:"–ë–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å",onclick:()=>(n.setSettings("upVersion",e.history[0].build),n.qs("#SP_PLUS_ALERT").remove(),!1)});n.qs("#SP_UPDATER_BUTTONS").appendChild(t)}})}catch(e){n.logger.error("checkUpdates.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipWhois=t.getWeather=t.settingsWeather=void 0;const n=s(0),r=s(2);t.settingsWeather=async e=>{var s,i,a;r._SETTINGS.hrightbar&&n.qs("#hrightbar").click(),null!==(s=r._SETTINGS.weatherSet.city)&&void 0!==s||t.ipWhois();let o=n.ce("div",{id:"SP_WEATHER_SETTINGS",className:"sp_settings-wrap"}),l=n.ce("label",{innerHTML:'API-–ö–ª—é—á:<div class="label__desc"><a href="https://openweathermap.org/appid" target="_blank">–ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á</a></div>',className:"label"}),c=n.ce("input",{type:"text",className:"text-input",size:32,value:r._SETTINGS.weatherSet.key,style:{marginBottom:"7px"},onkeypress:e=>{const s=e.target.value;13===e.keyCode&&(/^[a-f0-9]{32}$/i.test(s)?(n.setSettings("weatherSet.key",s),t.getWeather(),c.classList.remove("sp-input-error")):c.classList.add("sp-input-error"))}}),d=n.ce("label",{innerHTML:"–ì–æ—Ä–æ–¥:",className:"label"}),p=n.ce("input",{type:"text",className:"text-input",size:32,id:"SP-CITY-INPUT",value:null!==(i=r._SETTINGS.weatherSet.city)&&void 0!==i?i:"–ó–∞–≥—Ä—É–∑–∫–∞...",style:{marginBottom:"7px"},onkeypress:e=>{const s=e.target.value;13===e.keyCode&&(/^([a-zA-Z–∞-—è–ê-–Ø—ë–Å]+[-]?[a-zA-Z–∞-—è–ê-–Ø—ë–Å]*[-]?[a-zA-Z–∞-—è–ê-–Ø—ë–Å]*[-]?[a-zA-Z–∞-—è–ê-–Ø—ë–Å]*)$/i.test(s)?(n.setSettings("weatherSet.city",s),t.getWeather(),p.classList.remove("sp-input-error")):p.classList.add("sp-input-error"))}}),u=n.ce("label",{innerHTML:'–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:<div class="label__desc">–æ—Ç 1 –¥–æ 360 –º–∏–Ω—É—Ç</a></div>',className:"label"}),_=n.ce("input",{type:"text",className:"text-input",size:4,maxLength:3,value:r._SETTINGS.weatherSet.interval/60,style:{marginBottom:"7px"},oninput:e=>{const t=e.target.value;/^([1-9]|[1-8][0-9]|9[0-9]|[12][0-9]{2}|3[0-5][0-9]|360)$/i.test(t)?(n.setSettings("weatherSet.interval",60*Number(t)),_.classList.remove("sp-input-error")):_.classList.add("sp-input-error")}});o.appendChild(d),o.appendChild(p),o.appendChild(l),o.appendChild(c),o.appendChild(u),o.appendChild(_),null===(a=e.parentElement)||void 0===a||a.after(o)};t.getWeather=async()=>{const{language:e,units:t,city:s,key:i}=r._SETTINGS.weatherSet;try{let r=`https://api.openweathermap.org/data/2.5/weather?lang=${e}&units=${t}&q=${s}&appid=${i}`;await n.http("GET",r,!1).then(e=>{var t;const r=e.parsedBody;404!==e.status?(null==r?void 0:r.message)?n.modalMessage("–í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã",r.message,!0,5):(n.qs("#SP-CITY-INPUT")&&(n.qs("#SP-CITY-INPUT").value=r.name),null===(t=n.qs("#SP_WIDGET_WEATHER"))||void 0===t||t.remove(),200===(null==r?void 0:r.cod)&&(n.setSettings("weatherSet.city",r.name),n.setCookie("SP_WEATHER",JSON.stringify(r)))):n.modalMessage("–í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã",`–ì–æ—Ä–æ–¥ <b>${s}</b> –Ω–µ –Ω–∞–π–¥–µ–Ω`,!0,5)})}catch(e){n.logger.error("openweathermap",e)}};t.ipWhois=async()=>{try{await n.http("GET","https://ipwhois.app/json/?objects=city,success&lang=ru",!1).then(e=>{const s=e.parsedBody;(null==s?void 0:s.success)?(n.setSettings("weatherSet.city",s.city),t.getWeather()):n.modalMessage("–û—à–∏–±–∫–∞ ipWhois","–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É!",!0)})}catch(e){n.logger.error("ipWhois",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(4),r=s(1),i=s(0),a=s(2);(()=>{if(i.qs("#main_wrap"))try{i.http("POST",r.BASE_URL+"/api/session/check",!1).then(e=>{const t=e.parsedBody;t&&n.userStatus(t.code)&&(r.DATA.USERNAME=t.attributes.name,r.DATA.CK=t.attributes.CK,r.DATA.SID=null==t?void 0:t.attributes.sid,o()),i.logger.info("–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏",e)})}catch(e){i.logger.error("main.ts",e)}})();const o=()=>{window.onerror=()=>!1,n.checkUpdates(),n.sidebarButton(),i.readSettings(),n.setStyles(),n.newYear(),n.firstLaunch(),n.oldHeader(a._SETTINGS.oldheader),n.apiDebugger(a._SETTINGS.apidebug),n.freeStickers(a._SETTINGS.sticker),n.friendsOnline(a._SETTINGS.friendsOn),n.stickyHeader(a._SETTINGS.stickyheader),4===r.DEVICE.id&&(n.scrollMove(a._SETTINGS.rscroll),n.hiddenRightbar(a._SETTINGS.hrightbar)),setInterval(()=>{a._SETTINGS.adblock&&n.adBlock(),a._SETTINGS.beta&&n.betaFeatures(),a._SETTINGS.coins&&n.coinsAccept(),a._SETTINGS.karma&&n.karmaAccept(),a._SETTINGS.online&&n.userOnline(),a._SETTINGS.recents&&n.recentSmiles(),a._SETTINGS.grotate&&n.galleryRotate(),a._SETTINGS.favorite&&n.favoriteUser(),a._SETTINGS.weather&&n.weatherWidget(),a._SETTINGS.readersd&&n.deleteReaders(),a._SETTINGS.comments&&n.deleteComments(),a._SETTINGS.playerdn&&n.playerDownload(),a._SETTINGS.userbypass&&n.bypassProfile(),a._SETTINGS.dredirect&&n.disableRedirect(),a._SETTINGS.playback&&n.videoSpeedPlayback(),(a._SETTINGS.blogsd||"spaces-blogs.com"===r.HOST)&&n.deleteBlogs(),(a._SETTINGS.blockedfiles||"spac1.net"===r.HOST)&&n.blockedFiles(),n.settingsMenu(),n.qrCode()},200)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qrCode=void 0;const n=s(0),r=s(1);t.qrCode=()=>{try{let e=n.qs("#more_menu > div > div");if("mysite"===n.getPath(1)&&e&&!n.qs("#SP_QR_BUTTON")){let t=n.ce("a",{className:"stnd-link",id:"SP_QR_BUTTON",innerHTML:'\n                    <span class="sp sp-qrcode"></span>\n                    <span class="t js-text">–ü–æ–ª—É—á–∏—Ç—å QR-–∫–æ–¥</span>\n                ',onclick:()=>{n.modalMessage("–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ c —Ç–µ–ª–µ—Ñ–æ–Ω–∞",`\n                            <div id="SP_QR_CODE">\n                                <img src="${r.HTTP}//spac.me/i/preloader.gif" class="sp_img-center" id="SP_QR_LOADER">\n                            </div>\n                        `,!0);let e=i("https://chart.googleapis.com/chart?cht=qr&chs=256x256&chl="+r.DATA.SID),t=n.qs("#SP_QR_LOADER"),s=n.qs("#SP_QR_CODE");return e.then(e=>{t.remove(),s.appendChild(e),s.appendChild(n.ce("ol",{innerHTML:"\n                                <li>–ó–∞–ø—É—Å—Ç–∏—Ç–µ <b>OpenSpaces</b> –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ</li>\n                                <li>–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞–∂–º–∏—Ç–µ ¬´<b>Login by QR code</b>¬ª</li>\n                                <li>–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</li>\n                            "}))}),!1}});e.appendChild(t)}}catch(e){n.logger.error("qrCode.ts",e)}};const i=e=>new Promise((t,s)=>{const r=new Image;r.src=e,r.className="sp_img-center",r.onload=()=>t(r),r.onerror=()=>s(n.logger.error("qrCodeLoader",r))})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qsa=t.css=t.qs=t.ce=void 0;t.ce=(e,t)=>{const s=document.createElement(e);return Object.assign(s,t),Object.assign(s.style,null==t?void 0:t.style),s};t.qs=e=>document.querySelector(e);t.qsa=e=>document.querySelectorAll(e);t.css=(e,t)=>Object.assign(e.style,t)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.http=void 0;const n=s(3);t.http=async function(e,t,s,r){const i=new Headers;s?i.append("X-Proxy","spaces"):i.append("Content-Type","application/x-www-form-urlencoded");const a=await fetch(t,{method:e,headers:i,body:r});try{a.parsedBody=await a.json()}catch(e){n.logger.error("http.ts",e)}return a}},function(e,t,s){"use strict";s.r(t),s.d(t,"Debugger",(function(){return n}));var n=function(){function e(e,t,s){void 0===t&&(t=!0),void 0===s&&(s=""),this.prefix="",this.console=e,this.isEnabled=t,this.prefix=s}return Object.defineProperty(e.prototype,"memory",{get:function(){return this.doIfEnabled((function(){return console.hasOwnProperty("memory")&&console.memory}))},enumerable:!0,configurable:!0}),e.prototype.assert=function(e,t){for(var s=this,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.doIfEnabled((function(){var r;return(r=s.console).assert.apply(r,[e,t].concat(n))}))},e.prototype.countReset=function(e){var t=this;return this.doIfEnabled((function(){return t.console.countReset(e)}))},e.prototype.dir=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){var n;return(n=t.console).dir.apply(n,[e].concat(s))}))},e.prototype.error=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){var n;return(n=t.console).error.apply(n,[t.addPrefix(e)].concat(s))}))},e.prototype.info=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){var n;return(n=t.console).info.apply(n,[t.addPrefix(e)].concat(s))}))},e.prototype.log=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){var n;return(n=t.console).log.apply(n,[t.addPrefix(e)].concat(s))}))},e.prototype.time=function(e){var t=this;return this.doIfEnabled((function(){return t.console.time(e)}))},e.prototype.timeEnd=function(e){var t=this;return this.doIfEnabled((function(){return t.console.timeEnd(e)}))},e.prototype.timeLog=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){return t.console.timeLog(e,s)}))},e.prototype.timeStamp=function(e){var t=this;return this.doIfEnabled((function(){return t.console.timeStamp(e)}))},e.prototype.timeline=function(e){var t=this;return this.doIfEnabled((function(){return t.console.timeline(e)}))},e.prototype.timelineEnd=function(e){var t=this;return this.doIfEnabled((function(){return t.console.timelineEnd(e)}))},e.prototype.trace=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){var n;return(n=t.console).trace.apply(n,[t.addPrefix(e)].concat(s))}))},e.prototype.warn=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){var n;return(n=t.console).warn.apply(n,[t.addPrefix(e)].concat(s))}))},e.prototype.clear=function(){var e=this;return this.doIfEnabled((function(){return e.console.clear()}))},e.prototype.count=function(e){var t=this;return this.doIfEnabled((function(){return t.console.count()}))},e.prototype.debug=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){var n;return(n=t.console).debug.apply(n,[t.addPrefix(e)].concat(s))}))},e.prototype.dirxml=function(e){var t=this;return this.doIfEnabled((function(){return t.console.dirxml(e)}))},e.prototype.exception=function(e){for(var t=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return this.doIfEnabled((function(){var n;return(n=t.console).exception.apply(n,[t.addPrefix(e)].concat(s))}))},e.prototype.group=function(e){var t=this;return this.doIfEnabled((function(){return t.console.group(e)}))},e.prototype.groupCollapsed=function(e){var t=this;return this.doIfEnabled((function(){return t.console.groupCollapsed(e)}))},e.prototype.groupEnd=function(){var e=this;return this.doIfEnabled((function(){return e.console.groupEnd()}))},e.prototype.markTimeline=function(e){var t=this;return this.doIfEnabled((function(){return t.console.markTimeline(e)}))},e.prototype.profile=function(e){var t=this;return this.doIfEnabled((function(){return t.console.profile(e)}))},e.prototype.profileEnd=function(){var e=this;return this.doIfEnabled((function(){return e.console.profileEnd()}))},e.prototype.table=function(){for(var e=this,t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return this.doIfEnabled((function(){var s;return(s=e.console).table.apply(s,t)}))},e.prototype.throw=function(e){if(e.message=this.addPrefix(e.message),this.isEnabled)throw e;setTimeout((function(){throw e}))},e.prototype.doIfEnabled=function(e){if(this.isEnabled)return e()},e.prototype.addPrefix=function(e){return!this.prefix||"string"!=typeof e&&e?e:this.prefix+e},e}()},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trim=void 0;t.trim=e=>e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rever=void 0;t.rever=e=>e?e.toString().split("").join("."):e},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modalConfirm=t.modalMessage=void 0;const n=s(0);t.modalMessage=(e,t,s,i)=>{var a;let o=n.qs("#SP_PLUS_ALERT"),l=n.qs("#SP_PLUS_CONFIRM"),c=n.ce("div",{className:"sticker w400 "+(l||o?"":"fadeIn"),id:"SP_PLUS_ALERT"});null==o||o.remove(),null==l||l.remove();let d=n.ce("div",{className:"content-item3 wbg oh",innerHTML:(s?'<span id="modal-close" class="sp sp-remove-grey pointer right notif_close close_h" title="–ó–∞–∫—Ä—ã—Ç—å"></span>':"")+`${e}<div class="pad_t_a"></div><span style="font-size: 13px" class="grey">${t}</span>`});c.appendChild(d),document.body.appendChild(c),null===(a=n.qs("#modal-close"))||void 0===a||a.addEventListener("click",()=>{r()}),void 0!==i&&setTimeout(()=>{r()},1e3*i)};t.modalConfirm=(e,t,s)=>{let i=n.qs("#SP_PLUS_ALERT"),a=n.qs("#SP_PLUS_CONFIRM"),o=n.ce("div",{id:"SP_PLUS_CONFIRM",className:"sticker "+(a||i?"":"fadeIn")}),l=n.ce("div",{className:"content-item3 wbg oh",innerHTML:e+'<div class="pad_t_a"></div>'}),c=n.ce("button",{innerHTML:"–î–∞",href:"#",className:"btn btn_red btn_input"}),d=n.ce("a",{innerHTML:"–û—Ç–º–µ–Ω–∞",href:"#",className:"btn btn_white btn_input right sticker-close_btn"}),p=n.ce("small",{className:"pad_t_a grey",innerHTML:"–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å."}),u=n.ce("div",{className:"pad_t_a"});null==i||i.remove(),null==a||a.remove(),c.onclick=()=>(r(),s(),!1),d.onclick=()=>(r(),!1),t&&l.appendChild(p),l.appendChild(u),l.appendChild(c),l.appendChild(d),o.appendChild(l),document.body.appendChild(o)};const r=()=>{let e=n.qs("#SP_PLUS_ALERT")||n.qs("#SP_PLUS_CONFIRM");e&&(e.classList.contains("fadeIn")||e.classList.add("fadeIn"),e.classList.replace("fadeIn","fadeOut"),e.addEventListener("animationend",()=>{e.remove()}))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delCookie=t.setCookie=t.getCookie=void 0;const n=s(1),r=s(5);function i(e,t,s){!(s=r.extend({path:"/",expires:365,secure:!1,domain:"."+n.HOST},s)).expires||s.expires instanceof Date||(s.expires=new Date(+new Date+864e5*s.expires));let i=null!==t?encodeURIComponent(e)+"="+encodeURIComponent(t):encodeURIComponent(e)+"=";s.expires&&(i+="; expires="+s.expires.toUTCString()),s.domain&&(i+="; domain="+s.domain),s.path&&(i+="; path="+s.path),s.secure&&(i+="; secure"),document.cookie=i}t.getCookie=function(e){let t=document.cookie.match(new RegExp(`(?:^|; )${e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")}=([^;]*)`));return t?decodeURIComponent(t[1]):void 0},t.setCookie=i,t.delCookie=function(e){i(e,null,{expires:-1})}},function(e){e.exports=JSON.parse('{"name":"spaces-plus","description":"üöÄ Powerful userscript for Spaces.ru","homepage":"https://spaces-dev.github.io/SpacesPlus","version":"3.1.3","author":{"name":"Vitalij Ryndin","email":"sys@crashmax.ru","url":"https://crashmax.ru"},"scripts":{"dev":"cross-env NODE_ENV=development webpack-dev-server --config-name main --host localhost --watch-poll","build":"cross-env NODE_ENV=production webpack --progress"},"devDependencies":{"@types/node":"^14.11.8","@types/resize-observer-browser":"^0.1.4","@types/webpack":"^4.41.22","@types/webpack-dev-server":"^3.11.0","clean-webpack-plugin":"^3.0.0","copy-webpack-plugin":"^6.2.1","cross-env":"^7.0.2","json-beautify":"^1.1.1","optimize-css-assets-webpack-plugin":"^5.0.4","ts-debug":"^1.3.0","ts-loader":"^8.0.4","ts-node":"^9.0.0","typescript":"^4.0.2","webpack":"^4.44.2","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.0","webpack-userscript":"^2.5.6","webpack-zip-files-plugin":"^1.0.0"}}')},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUpper=void 0;t.toUpper=e=>e[0].toUpperCase()+e.substring(1)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPath=void 0;t.getPath=e=>{let t=document.location.pathname,s=t.replace(/\/\s*$/,"").split("/");return e?s[e]:t}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.readSettings=void 0;const n=s(0),r=s(2);t.readSettings=()=>{let e=n.getCookie("SP_PLUS_SET");try{e?n.extend(r._SETTINGS,JSON.parse(e)):n.setCookie("SP_PLUS_SET",JSON.stringify(r._SETTINGS))}catch(e){n.logger.error("readSettings",e)}};t.setSettings=(e,t)=>{try{if(-1!==e.indexOf(".")){let s=e.split(".");r._SETTINGS[s[0]][s[1]]=t}else r._SETTINGS[e]=t;n.setCookie("SP_PLUS_SET",JSON.stringify(r._SETTINGS))}catch(e){n.logger.error("setSettings",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuery=void 0;const n=s(3);t.getQuery=e=>{let t,s=document.location.search;try{return e=e.toLowerCase(),-1!==s.toLowerCase().indexOf(e)&&s.substring(1).split("&").forEach(s=>{let n=s.split("=");n[0].toLowerCase()===e&&(t=n[1])}),t}catch(e){n.logger.error("getQuery.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.declOfNum=void 0;t.declOfNum=(e,t)=>t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParams=void 0;t.getParams=e=>{const t={};let s=document.createElement("a");s.href=e;let n=s.search.substring(1).split("&");for(let e=0;e<n.length;e++){let s=n[e].split("=");t[s[0]]=decodeURIComponent(s[1])}return t}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playSound=void 0;t.playSound=(e,t)=>{let s=new Audio(e);s.volume=t/100,s.play()}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidUrl=void 0;t.isValidUrl=e=>null!==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.historyPush=void 0;const n=s(3);t.historyPush=(e,t,s)=>{try{document.title=s,history.pushState(e,s,t)}catch(e){n.logger.error("historyPush.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifyObject=void 0;t.modifyObject=(e,t,s,n)=>{let r={},i=0;for(let a in e)e.hasOwnProperty(a)&&(i===n&&t&&s&&(r[t]=s),r[a]=e[a],i++);return!n&&t&&s&&(r[t]=s),r}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notification=void 0;t.notification=(e,t,s)=>{const n=new Notification(e,{body:t,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWRSURBVHgB7VpdTBxVFP5mFujCDgos7GKM2pTSQtcirYEYS5smlb5Io/hgDMEaH0wfjEkbNfFNfWxiY3zQqA9GafWBJmKMbQKUSAvYCIa6CKz8BvCh+9eFdn9oKex478zOsuzuzNzZJSGb9EsmLNxzyfm+e849955ZDgQ1NS0fcxzOiiJKkAMgvq4A4vcu15Vz3P79pz7nOPEschOfcrW1Lcu5onwyiN8rfK46T0FCqYRHjuMRgZ1GHrKCmPQ7p2lL8o3GrY6dMWRMQBSj0rNJgiPO8bGf8u+JtjIBhQQXs+OQLZmMCCjOP9b8Ckpb30Q0EkJwoBvBwV5s3PFBjkxeIkIdprZHD7Xh4N6TeLAWwvBEF8Zmesi4SSKdDRGOVGHR2BQR0egGhCMnUPHOBymjwYEeLHddxDohQh2jqtdVn8CpYx9usVsJejBwq4MQuRYjkRkRwwSomtHoOp660IH8cruqHSUS6OrAQ58b771xCSXFlWntKJGxmW6JyL2wN7YqCgl9MgYJyOpbiPq2NOqnQ73rRzSsNiMUsmnaUSLTi0MYmezC3ZBPIpIun5JhKi/f9wlY3ZeSMApr2xnkV1QyzTn//NdoOHgZQrEPy4HdWFuzpLUz7xLwpK0WjY7X8Lhgg9s/I+WL4jxdFY7LioC8i5hrHChrPc00o848gdaSq9LnsrIFHHBcReUTk2Q1KhDWWBG7tQqNzypEZhOIcAnhZZCAon7pq+3Y9UwVyxS8b/sK9nzflr8Jgg97q/vJSgjw+6o158tEWqXw8gTmU5ynYK7ElEBeuQ3FR08y2dvzvKgrnFAdrz/UiYKCMFjQ/MKZ2NadOsZEQC5ERP3WdrCiveyy5jir8xTmAkHxJCUPGAmIMFmJ+k3s6jcX92vauG87VBM6Gc7pntgnLmUVdAmI0gwRQtNLYIWe+hRzs8fBirGZ3tgulFEOyMlrKPbNE5o2dBeaZSTgvjOHJfdY7JyVCh0CsvNCUzOpumz7fl3hZMrOkwznrdfBiuHxrqTqvBWaBOJbp5HkLe3UHDei/krQjX9mezWrsQYB4+rTxNVT3zXRAlbcGL0UCx11N1VHFPWLCQFW6KlPsbTUABZsqs+phg+FCgHl2FCHwtrnwAKauHrqz84cl0KIBVOLN3XVh9poRuozbJ3Ov40mb/oDXCJUCeSVV2zbsYHCiPq0cAUjXigHOC2kISAXLnpVZAWL+q7Jl8GKG6MXIV9J9ctUioUcPiIsh18ECyx8mOnYECB3ARY4p7vJzczHFD4UaSlud+vD2LHhWnznERnuiikE5C2Lx/IvHWBBOGrBzbD61pj5sYFNwDQXGnnig7l/yYXcg4Kn98BkETT/yfXQEWmaPc8HwRTZMjby59vM4fP7X9/Bu7wAns+KAOKFY21pHnd7fsZDvz6RsVUHWYlGzK/tRlXBgkSEqj80+C5YQAvXbwMXiPMmpuSN+6rdlRBjNyE5semRmtYGluJGE/uAKwTvPNvR4dfrn2F8rk8iYCT/GNsqYry40YdWaHo31iOycK4NjrJ6HDt8WrUvREHV/7LzrZj6JhgB46Wei+8M9Fn3+6Q24r3BbpiKhLSXfNrYCg/1wRtYwAhpJdKLud26R2qfJIO2Gv/zjCd057adQCIRfnObi0QQHv2DkOkBX2SJE1l1ORH46VvgfiTe//SSrgJ11EN2GqGoNL4ii7ed6Bv+Bhuk22dUfckj473RRIjx/KCf+aIi8ghkhTzxfudmPG/a0jCkLRM64gnMpbFlR5bvB5Swktvm4up9bJBHUV3dloOPbJcUctJm/p4lSwIK9HuYibY8z8VfdohZrD/FjrxiUpzO1nmKRy/5dhq5T0D+4kRuQvmqwRfIWUR/MPn90/1W675ScoKtIX8xIwcQi5rzU1NXPvof3uh4/Jx+XhEAAAAASUVORK5CYII=",tag:"events"});s?setTimeout(()=>n.close(),1e3*s):n.addEventListener("click",e=>console.log(e))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adBlock=void 0;const n=s(0);t.adBlock=()=>{try{if(n.qsa('img[src$="static/i/close3.png"]').forEach(e=>{var t,s;return null===(s=null===(t=e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===s?void 0:s.remove()}),n.qsa('a[title="–†–µ–∫–ª–∞–º–∞"').forEach(e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.remove()}),n.qsa("#vk_groups").forEach(e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.remove()}),!n.qs("#SP_PLUS_ADBLOCK")){let e=n.ce("script",{type:"text/javascript",id:"SP_PLUS_ADBLOCK",innerHTML:'var rawOpen = XMLHttpRequest.prototype.open; XMLHttpRequest.prototype.open = function() { if (!this._hooked) { this._hooked = true; setupHook(this); }; rawOpen.apply(this, arguments); }; function setupHook(xhr) { function getter() { delete xhr.responseText; var ret = xhr.responseText; var json = JSON.parse(ret); json.reklama = ""; json.rightbar_reklama = ""; json.rightbar_app = ""; json.sidebar_reklama = ""; ret = JSON.stringify(json); setup(); return ret; }; function setup() { Object.defineProperty(xhr, "responseText", { get: getter, configurable: true }); } setup(); };'});document.getElementsByTagName("head")[0].appendChild(e)}}catch(e){n.logger.error("adBlock.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newYear=void 0;const n=s(0);t.newYear=()=>{try{const e=n.qs(".ico_logo_newyear");if(e){let t=1;setInterval(()=>{e.classList.replace("ico_logo_newyear_"+t,"ico_logo_newyear_"+(t>5?1:t+1)),t++,t>6&&(t=1)},1e4)}}catch(e){n.logger.error("newYear",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oldHeader=void 0;const n=s(0);t.oldHeader=e=>{n.qsa("span.horiz-menu__link-text").forEach(e=>e.remove());let t=n.qsa("a.horiz-menu__link"),s=t[2].cloneNode(!0),r=t[4].cloneNode(!0);(e||"/mail/"===t[2].pathname)&&(t[4].replaceWith(s),t[2].replaceWith(r))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollMove=void 0;const n=s(0),r=s(2);t.scrollMove=e=>{let t=n.qs("#scroll_page");try{e&&!t.hasAttribute("sp-replace")?(t.style.left="auto",t.style.right="0",t.setAttribute("sp-replace","1")):!r._SETTINGS.rscroll&&(null==t?void 0:t.hasAttribute("sp-replace"))&&(t.style.left="0",t.style.right="auto",t.removeAttribute("sp-replace"))}catch(e){n.logger.error("scrollMove.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userStatus=void 0;const n=s(0),r=s(1);t.userStatus=e=>{let t=n.ce("div",{innerHTML:"–î–ª—è —Ä–∞–±–æ—Ç—ã <b>Spaces+</b> –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è!"});if(1===r.DEVICE.id||2===r.DEVICE.id){let s=n.ce("div",{className:"oh busi",innerHTML:"–ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è —Å–∞–π—Ç–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã <b>Spaces+</b>",style:{border:"1px solid #ff9a95",background:"#fdf3ef"}});return"01001"===e&&s.prepend(t),n.qs("#main_wrap").prepend(s),!1}if((3===r.DEVICE.id||4===r.DEVICE.id)&&"01001"===e){let e=n.ce("div",{className:"oh nl system-message",style:{border:"1px solid #ff9a95",background:"#fdf3ef"}});return e.prepend(t),n.qs("#top_info_block").prepend(e),!1}return!0}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userOnline=void 0;const n=s(0),r=s(1);t.userOnline=()=>{let e=n.getPath(),t=n.getPath(3),s=`/anketa/index/${t}/`;if(e===s&&r.DATA.ONLINE!==t){let e=Array.from(n.qsa("div.info-item__title")).filter(e=>"–í—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω:"===e.textContent);if(t&&e){r.DATA.ONLINE=t;try{n.http("GET",`${r.BASE_URL}/anketa/index/${t}/`,!0).then(t=>{var s,r;const i=null===(r=null===(s=t.parsedBody)||void 0===s?void 0:s.user_widget)||void 0===r?void 0:r.online_time;if(i){let s=(i/3600).toFixed(2).split("."),r=s[0]>0?`${s[0]} —á, ${Math.trunc(s[1]/(100/60))} –º–∏–Ω`:Math.trunc(s[1]/(100/60))+" –º–∏–Ω";e[0].nextElementSibling.textContent=r,n.logger.info("–í—Ä–µ–º—è –æ–Ω–ª–∞–π–Ω: "+r,t)}})}catch(e){n.logger.error("userOnline.ts",e)}}}else e!==s&&(r.DATA.ONLINE=null)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiDebugger=void 0;const n=s(0);t.apiDebugger=e=>{if(e&&!n.qs("#spaces_api_debugger")){let e=n.ce("script",{type:"text/javascript",innerHTML:'var Arr=[\'<div class="widgets-group widgets-group_top js-container__block" id="spaces_api_debugger"><div class="content"><a href="#" class="stnd-link list-link-blue c-blue" id="api_debug-button"><div class="text-gray"><span class="sp"></span><span class="t darkblue c-darkblue b js-text" style="margin-left: 5px">API Debugger</span></div></a><div id="api_debug-place"></div></div></div>\',"append","parent","#location_header","debugger"];$(Arr[3])[Arr[2]]()[Arr[1]](Arr[0]),require(Arr[4]);void(0);'});document.getElementsByTagName("head")[0].appendChild(e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coinsAccept=void 0;const n=s(0),r=s(1);t.coinsAccept=()=>{try{n.qsa(`a[href^="${r.BASE_URL}/services/gift_get/"`).forEach(e=>{var t;e.click(),null===(t=e.parentElement)||void 0===t||t.remove(),n.logger.info("–°–æ–±—Ä–∞–ª–∏ –º–æ–Ω–µ—Ç–∫—É",e)})}catch(e){n.logger.error("coinsAccept.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBlogs=void 0;const n=s(0),r=s(1);t.deleteBlogs=()=>{var e,t;let s=n.getPath().split("/"),a=n.qs("#SP_PLUS_BUTTONS_B"),o=n.qsa(`a[href^="${r.BASE_URL}/diary/editaccess/"`);try{if("view"!==s[2]&&a&&a.remove(),"diary"===s[1]&&"view"===s[2]&&o&&!n.qs('input[id^="SP_DB_"')){let s=[];for(let r of o){let i="SP_DB_"+n.getParams(r.href).id,a=n.ce("input",{className:"sp-cbfb sp-checkbox-square",type:"checkbox",id:i});null===(e=r.parentElement)||void 0===e||e.appendChild(a),null===(t=r.parentElement)||void 0===t||t.appendChild(n.ce("label",{className:"sp-ch-blogs",htmlFor:i,style:{margin:"2px"}})),s.push(a)}let a=n.ce("div",{className:"widgets-group user__tools_last",id:"SP_PLUS_BUTTONS_B"});const l=n.ce("button",{className:"user__tools-link table__cell sp_btn-list",innerHTML:'\n                    <span class="sp sp-ok-blue"></span>\n                    <span class="sp-ch-text">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</span>\n                ',onclick:e=>{if(e.target instanceof Element){let t="SPAN"===e.target.nodeName?e.target.parentNode:e.target;for(let e of s)e.checked=-1!==t.innerHTML.indexOf("–í—ã–±—Ä–∞—Ç—å –≤—Å–µ");t.innerHTML=`\n                            <span class="sp sp-ok-blue"></span>\n                                <span class="sp-ch-text">\n                                ${-1!==t.innerHTML.indexOf("–í—ã–±—Ä–∞—Ç—å –≤—Å–µ")?"–°–Ω—è—Ç—å –æ—Ç–º–µ—Ç–∫–∏":"–í—ã–±—Ä–∞—Ç—å –≤—Å–µ"}\n                            </span>\n                        `}}}),c=n.ce("button",{className:"user__tools-link table__cell sp_btn_line sp_btn-list",innerHTML:'\n                    <span class="sp sp-remove-red"></span>\n                    <span class="sp-del-text">–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</span>\n                ',onclick:()=>{let e=[];for(let t of s)t.checked&&e.push(/^SP_DB_([0-9]+)$/i.exec(t.id)[1]);let t=e.length;return t>0?n.modalConfirm(`–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å ${t} ${i(t)}?`,!0,async()=>{let s=t;for(let a of e)n.modalMessage(`–û—Å—Ç–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å ${t--} –∏–∑ ${s} ${i(t)}`,'–ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ... <span style="padding-right: 10px" class="ico ico_spinner"></span>',!1),await n.http("GET",`${r.BASE_URL}/diary/delete/?CK=${r.DATA.CK}&id=${a}&Sure=1`,!0).then(e=>{n.logger.info("–£–¥–∞–ª–∏–ª–∏ –±–ª–æ–≥",e)});document.location.reload()}):n.modalMessage("–í–Ω–∏–º–∞–Ω–∏–µ!","–û—Ç–º–µ—Ç—å—Ç–µ –≥–∞–ª–æ—á–∫–æ–π, —Ç–µ –±–ª–æ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑",!0,5),!1}});a.appendChild(c),a.appendChild(l),n.qs('input[id^="SP_DB_"')&&n.qs("#main").after(a)}}catch(e){n.logger.error("deleteBlogs.ts",e)}};const i=e=>"–±–ª–æ–≥"+n.declOfNum(e,["","–∞","–æ–≤"])},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstLaunch=void 0;const n=s(0),r=s(1);t.firstLaunch=()=>{try{if(void 0===n.getCookie("SP_LAUNCH")&&"spaces-blogs.com"!==r.HOST&&"spac1.net"!==r.HOST){n.modalMessage("–°–ø–∞—Å–∏–±–æ –∑–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É Spaces+",`\n                <b style="color: #f86934">–í–ù–ò–ú–ê–ù–ò–ï!</b></br></br>\n                –í–æ –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ–¥–¥–µ–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–∫—Ä–∏–ø—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ <a href="https://spaces-dev.github.io" target="_blank">—Å–∞–π—Ç–∞</a></br></br>\n                –° –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞, –ø–∏—Å–∞—Ç—å –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ <a href="${r.BASE_URL}/soo/extension/" target="_blank">Spaces+</a></br></br>\n                `,!0);let e=n.ce("div",{className:"pad_t_a"}),t=n.ce("a",{href:r.BASE_URL+"/settings/?sp_plus_settings=1",className:"btn btn_white btn_input right sticker-close_btn",innerHTML:"–ü–µ—Ä–µ–π—Ç–∏ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º",onclick:()=>n.qs("#SP_PLUS_ALERT").remove()});e.appendChild(t),n.qs("#SP_PLUS_ALERT")&&n.qs("#SP_PLUS_ALERT > .content-item3").appendChild(e),n.setCookie("SP_LAUNCH","1")}}catch(e){n.logger.error("firstLaunch.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.karmaAccept=void 0;const n=s(0),r=s(1);t.karmaAccept=()=>{try{n.qsa(`a[href^="${r.BASE_URL}/mysite/rate_n_karma/karma/?Accept="`).forEach(e=>{var t;e.click(),null===(t=e.parentElement)||void 0===t||t.remove(),n.logger.info("–°–æ–±—Ä–∞–ª–∏ –∫–∞—Ä–º—É!",e)})}catch(e){n.logger.error("karmaAccept.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.soundNotify=void 0;const n=s(0),r=s(1),i=s(2);t.soundNotify=()=>{try{const e={mail:n.qs("#mail_notif_cnt"),journal:n.qs("#jour_notif_cnt"),feed:n.qs("#lent_notif_cnt")};let t=0;for(let s in e)e[s]&&i._SETTINGS.notifySet[s]&&""!==e[s].innerHTML&&!isNaN(e[s].innerHTML)&&(t+=parseInt(e[s].innerHTML,10));if(t>r.DATA.EVENTS){n.playSound(i._SETTINGS.notifySet.url,i._SETTINGS.notifySet.volume);let e=n.declOfNum(t,["–Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ","–Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏—è","–Ω–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π"]);n.notification(n.toUpper(e)+" –Ω–∞ Spaces!",`–£ –í–∞—Å ${t} ${e}!`,5),r.DATA.EVENTS=t}else t<r.DATA.EVENTS&&(r.DATA.EVENTS=t)}catch(e){n.logger.error("soundEvents.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.betaFeatures=void 0;const n=s(0);t.betaFeatures=()=>{let e=n.qs("div.progress-item__label"),t=n.qs("div.progress-item__runner");if(e&&t&&!n.qs("#SP_BETA_FEATURES")){let s=e.textContent.split("/"),n=Math.round(Number(s[0])/Number(s[1])*100);n>30&&(e.style.color="#f5f5f5"),t.id="SP_BETA_FEATURES",t.style.width=n+"%"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blockedFiles=void 0;const n=s(0);t.blockedFiles=()=>{try{let e=n.qs('a[class*="__adv_download"'),t=n.qs('div[id^="download_wrap_"'),s=n.qs("#SP_LINK_SSL");if("files"===n.getPath(1)&&"view"===n.getPath(2)&&t&&!e&&!s){let e=n.ce("a",{href:"#",id:"SP_LINK_SSL",className:"list-link list-link-blue stnd-link_disabled c-blue",innerHTML:'\n                    <span class="ico bp ico_spinner"></span>\n                    <span class="t js-text">–ó–∞–≥—Ä—É–∑–∫–∞</span>\n                '});t.children[0].appendChild(e),n.http("GET",document.location.href,!0).then(t=>{var s;const r=null===(s=t.parsedBody)||void 0===s?void 0:s.info.file_widget;r&&(e.classList.remove("stnd-link_disabled"),e.href=r.preview.downloadLinkSSL,e.innerHTML=`\n                        <span class="js-ico ico ico_download2_blue"></span>\n                        <span class="t js-text">–°–∫–∞—á–∞—Ç—å (${r.downloadBox.weight})</span>\n                    `,n.logger.info("–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞",t))})}}catch(e){n.logger.error("blockedFiles.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.favoriteUser=void 0;const n=s(0),r=s(1);t.favoriteUser=async()=>{var e,t,s;try{let a=n.getPath(1),o=n.getPath(2),l=n.getPath(3),c=n.qsa("td.table__cell_last"),d=n.qs("#SP_PLUS_INFAVORITE");if(("mysite"===a||"anketa"===a&&"edit"!==o||"activity"===a)&&r.DATA.USERNAME!==n.trim(n.qs("#location_bar_1_0").textContent)&&l&&c.length>0&&!d){let a=n.ce("td",{className:"table__cell stnd-link_disabled",id:"SP_PLUS_INFAVORITE"}),o=n.ce("a",{href:"#",id:"SP_FV_LOADER",className:"stnd-link",innerHTML:'\n                        <span class="ico bp ico_spinner"></span>\n                        <span class="t js-text">–ó–∞–≥—Ä—É–∑–∫–∞</span>\n                    '});a.appendChild(o),null===(e=c[1].parentElement)||void 0===e||e.insertBefore(a,c[1]);let d=null===(s=null===(t=c[1])||void 0===t?void 0:t.parentElement)||void 0===s?void 0:s.childNodes;for(let e in d)"TD"===d[e].nodeName&&(d[e].width="25%");await n.http("GET",`${r.BASE_URL}/anketa/index/${l}`,!0).then(e=>{var t;const s=null===(t=e.parsedBody)||void 0===t?void 0:t.user_widget;if(void 0!==s){let e=n.ce("a",{href:`${r.BASE_URL}/bookmarks/add/?object_id=${s.id}&object_type=11`,className:"stnd-link",title:"–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏",innerHTML:'<span class="sp sp-fav"></span> B –∑–∞–∫–ª–∞–¥–∫–∏',onclick:()=>(n.modalConfirm(`–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è <b>${s.name}</b> –≤ –∑–∞–∫–ª–∞–¥–∫–∏?`,!1,async()=>{await n.http("POST",r.BASE_URL+"/ajax/bookmarks/add/",!1,`object_id=${s.id}&object_type=11&show_all_tags_state=0&new_tags=–õ—é–¥–∏&cfms=–î–æ–±–∞–≤–∏—Ç—å&CK=${r.DATA.CK}`).then(e=>{200===e.status?i(s.id,s.name,a):n.logger.error("bookmarks/add",e)})}),!1)});i(s.id,s.name,a),o.remove(),a.classList.remove("stnd-link_disabled"),a.appendChild(e)}else o.parentElement.style.display="none";n.logger.info("anketa/index",e)})}}catch(e){n.logger.error("favoriteUser.ts",e)}};const i=async(e,t,s)=>{try{s=s.firstElementChild,await n.http("GET",`${r.BASE_URL}/bookmarks/add/?object_id=${e}&object_type=11`,!0).then(e=>{var r;const i=null===(r=e.parsedBody)||void 0===r?void 0:r.delete_link;i&&(s.href=i.delete_URL,s.title="–£–¥–∞–ª–∏—Ç—å –∏–∑ –∑–∞–∫–ª–∞–¥–æ–∫",s.innerHTML='<span class="sp sp-fav-on"></span><span style="color: #61a961"> –í –∑–∞–∫–ª–∞–¥–∫–∞—Ö</span>',s.onclick=()=>(n.modalConfirm(`–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è <b>${t}</b> –∏–∑ –∑–∞–∫–ª–∞–¥–æ–∫?`,!1,async()=>{await n.http("GET",i.delete_URL,!1).then(e=>{200===e.status?document.location.reload():n.logger.error("bookmarks/remove",e)})}),!1)),n.logger.info("–í –∑–∞–∫–ª–∞–¥–∫–∞—Ö?",e)})}catch(e){n.logger.error("isFav",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.freeStickers=void 0;const n=s(0);t.freeStickers=e=>{if(e&&!n.qs("#SP_PLUS_STICKERS")){let e=n.ce("script",{type:"text/javascript",id:"SP_PLUS_STICKERS",innerHTML:'var open=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,o,t){var n=open.apply(this,arguments);return-1==o.indexOf("mail/sendMessage")&&-1==o.indexOf("diary/new")&&-1==o.indexOf("comments/add")||this.setRequestHeader("X-Proxy","spaces"),n};'});document.getElementsByTagName("head")[0].appendChild(e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recentSmiles=void 0;const n=s(0),r=s(1),i=s(2);t.recentSmiles=()=>{let e=n.qs("#SP_RECENT_SMILES"),t=n.qs(".smiles_menu-header"),s=JSON.parse(localStorage.getItem("sp_recent_smiles")||"{}");try{if(t){let e=document.querySelectorAll('img[smile^=":"]');e&&a(e,s)}if(t&&!e){let e=document.querySelectorAll('a[href^="#sm-tab="]');for(let t of e)t.addEventListener("click",()=>{i._SETTINGS.sticker&&document.querySelectorAll(".stickers_list>div").forEach(e=>e.remove());let e=document.querySelectorAll('img[smile^=":"]');e&&a(e,s);let t=document.querySelectorAll('a[href^="#sm-cat="]');for(let n of t)n.addEventListener("click",()=>{a(e,s)})});let o=n.qs(".smiles_menu-body"),l=n.ce("span",{className:"sp sp-grey-del trash-btn",onclick:()=>{n.modalConfirm("–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–º–∞–π–ª–∏–∫–∏?",!0,()=>{localStorage.removeItem("sp_recent_smiles"),document.location.reload()})}}),c=n.ce("img",{id:"SP_RECENT_SMILES",className:"sp_recent-smile-btn",src:r.HTTP+"//spac.me/i/mail/restore_grey.png",title:"–†–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ",onclick:()=>{if(o.innerHTML="",Object.keys(s).length>0)for(let[e,t]of Object.entries(s)){let s=n.ce("img",{className:"sp_recent-smile",src:e,onclick:()=>{var e;(null!==(e=n.qs('textarea[tabindex="1"]'))&&void 0!==e?e:n.qs('textarea[name="msg"]')).value+=t+" "}});s.setAttribute("smile",t),o.append(s)}else{let e=n.ce("div",{innerHTML:`<img src="${r.HTTP}//spac.me/i/st/compdude11.gif"></br></br>–°–ø–∏—Å–æ–∫ —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–º–∞–π–ª–∏–∫–æ–≤ –ø—É—Å—Ç</br>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–º–∞–π–ª–∏–∫–∏ –∏–∑ –º–µ–Ω—é —Å–º–∞–π–ª–∏–∫–æ–≤, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö —Å—é–¥–∞</br></br>`,style:{color:"#a4b7c4",textAlign:"center"}});o.append(e)}}});t.prepend(c),t.prepend(l),i._SETTINGS.recentSmiles.show&&Object.keys(s).length>0&&n.qs("#SP_RECENT_SMILES").click()}}catch(e){n.logger.error("recentSmiles.ts",e)}};const a=(e,t)=>{for(let s of e)s.addEventListener("click",()=>{let e=n.modifyObject(t,s.src,s.attributes.smile.value,0);localStorage.setItem("sp_recent_smiles",JSON.stringify(e))})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsMenu=void 0;const n=s(0),r=s(4),i=s(1),a=s(2);t.settingsMenu=()=>{var e,t;if("/settings/"===n.getPath()&&!n.qs("#SP_PLUS_SETLINK"))try{const s=n.qs(`a[href^="${i.BASE_URL}/settings/notification/"`);if(s){const o=n.getQuery("sp_plus_settings"),l=n.getQuery("sp_changelog"),c=n.getQuery("sp_backup"),d=n.ce("a",{href:i.BASE_URL+"/settings/?sp_plus_settings=1",id:"SP_PLUS_SETLINK",className:s.className,innerHTML:'\n                        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Spaces+</span>\n                        <span class="ico ico_arr ico_m"></span>\n                    ',onclick:()=>{var e,t,s;/(\&)sp_plus_settings=1/i.test(document.location.href)||n.historyPush({sp_plus_settings:o},i.BASE_URL+"/settings/?sp_plus_settings=1","–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Spaces+");let d=null===(s=null===(t=null===(e=n.qs("#SP_PLUS_SETLINK").parentElement)||void 0===e?void 0:e.parentNode)||void 0===t?void 0:t.parentNode)||void 0===s?void 0:s.parentNode;"main"===d.id&&(n.qs("#header_path").innerHTML=n.qs("#header_path").innerHTML.replace("–ù–∞—Å—Ç—Ä–æ–π–∫–∏",`\n                                <a href="${i.BASE_URL}/settings/">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>\n                                <span class="location-bar__sep ico"></span>\n                                <span id="SP_PLUS_SETHEAD2">Spaces+</span>\n                            `),d.innerHTML=`\n                                <div class="widgets-group widgets-group_top js-container__block">\n                                    <div class="b-title cl b-title_center b-title_first oh">\n                                        <div class="b-title__item" id="SP_PLUS_SETHEAD">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Spaces+</div>\n                                    </div>\n                                    <div class="content">\n                                        <div class="list f-c_fll">\n                                            <div id="SP_PLUS_SETAREA" class="no-select"></div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div id="SP_PLUS_ABOUT"></div>\n                                <a id="SP_PLUS_SETBACK" href="${i.BASE_URL}/settings/?" class="link-return full_link">\n                                    <span class="ico ico_arrow-back"></span>\n                                    <span class="m">–ù–∞–∑–∞–¥</span>\n                                </a>\n                            `);const p=n.qs("#SP_PLUS_SETAREA");if(p){for(let e in a._SETTINGS){let t=e;if(void 0!==a._SETSTRINGS[t]){let s=3===i.DEVICE.id&&("rscroll"===e||"hrightbar"===e||"weather"===e),o=n.ce("input",{id:e,type:"checkbox",className:"sp-checkbox-square",checked:a._SETTINGS[t],onclick:e=>{const t=e.target.checked,s=e.target,i=e.target.id;if(s.attributes.getNamedItem("unsupported")&&t)n.modalMessage("–í–Ω–∏–º–∞–Ω–∏–µ!","–î–ª—è —Ä–∞–±–æ—Ç—ã –¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—É—é –≤–µ—Ä—Å–∏—é —Å–∞–π—Ç–∞",!0,5);else switch(n.setSettings(i,t),i){case"rscroll":r.scrollMove(t);break;case"hrightbar":r.hiddenRightbar(t);break;case"friendsOn":r.friendsOnline(t),t?r.settingsFriends(s):n.qs("#SP_PLUS_MAXFRIENDS").remove();break;case"sticker":t?r.freeStickers(t):n.qs("#SP_PLUS_STICKERS").remove();break;case"stickyheader":r.stickyHeader(t);break;case"oldheader":r.oldHeader(t);break;case"bodystyle":t?r.settingsBackground(s):(n.qs("#SP_PLUS_BODYSTYLE").remove(),n.qs("#SP_PLUS_INJSTYLE").remove());break;case"weather":t?r.settingsWeather(s):(n.qs("#SP_WIDGET_WEATHER").remove(),n.qs("#SP_WEATHER_SETTINGS").remove())}}}),l=n.ce("label",{innerHTML:a._SETSTRINGS[t],htmlFor:e}),c=n.ce("label",{className:"stnd-link bstrwrap "+(s?"sp_unsupported":"")});if(s&&o.setAttribute("unsupported",e),c.appendChild(o),c.appendChild(l),void 0!==a._DESCSTRINGS[t]){let e=n.ce("a",{href:"#",className:"sp sp-info sp_info-btn",onclick:()=>(n.modalMessage(a._SETSTRINGS[t],a._DESCSTRINGS[t],!0),!1)});c.appendChild(e)}p.appendChild(c),s&&a._SETTINGS[e]&&n.qs("#"+e).click()}}a._SETTINGS.friendsOn&&r.settingsFriends(n.qs("#friendsOn")),a._SETTINGS.bodystyle&&r.settingsBackground(n.qs("#bodystyle")),a._SETTINGS.weather&&r.settingsWeather(n.qs("#weather"));let e=n.ce("div",{className:"sp_plus_line",innerHTML:'<span class="sp_plus_text">–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞</span>'}),t=n.ce("div",{className:"sp_plus_line",innerHTML:'<span class="sp_plus_text">–ü—Ä–æ—á–µ–µ</span>'});p.appendChild(e),r.settingsFeatures(p),p.appendChild(t);const s=n.ce("a",{href:i.BASE_URL+"/settings/?sp_plus_settings=1&sp_backup=1",className:"stnd-link stnd-link_arr sp_font_sm",id:"sp_backup",innerHTML:'\n                                    <span class="b" style="color: #2e7d32">\n                                        <span class="sp sp-backup-g mr-14"></span>–ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫\n                                        <span class="ico ico_arr ico_m"></span>\n                                    </span>\n                                ',onclick:()=>(n.qs("#SP_PLUS_SETHEAD").innerHTML="–ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫",n.qs("#SP_PLUS_SETHEAD2").innerHTML=`\n                                        <a href="${i.BASE_URL}/settings/?sp_plus_settings=1">Spaces+</a>\n                                        <span class="location-bar__sep ico"></span> –ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫\n                                    `,n.qs("#SP_PLUS_SETBACK").href=i.BASE_URL+"/settings/?sp_plus_settings=1",/(\&)sp_backup=1/i.test(document.location.href)||n.historyPush({sp_plus_settings:o,sp_backup:c},i.BASE_URL+"/settings/?sp_plus_settings=1&sp_backup=1","Spaces+: –ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫"),r.settingsBackupMenu("#SP_PLUS_SETAREA"),!1)});p.appendChild(s);const d=n.ce("a",{href:i.BASE_URL+"/settings/?sp_plus_settings=1&sp_changelog=1",className:"stnd-link stnd-link_arr sp_font_sm",id:"sp_changelog",innerHTML:'\n                                    <span class="b" style="color: #2196f3">\n                                        <span class="sp sp-restore-blue mr-14"></span>–ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π\n                                        <span class="ico ico_arr ico_m"></span>\n                                    </span>\n                                ',onclick:()=>(n.qs("#SP_PLUS_SETHEAD").innerHTML="–ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π",n.qs("#SP_PLUS_SETHEAD2").innerHTML=`\n                                        <a href="${i.BASE_URL}/settings/?sp_plus_settings=1">Spaces+</a>\n                                        <span class="location-bar__sep ico"></span> –ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π\n                                    `,n.qs("#SP_PLUS_SETBACK").href=i.BASE_URL+"/settings/?sp_plus_settings=1",/(\&)sp_changelog=1/i.test(document.location.href)||n.historyPush({sp_plus_settings:o,sp_changelog:l},i.BASE_URL+"/settings/?sp_plus_settings=1&sp_changelog=1","Spaces+: –ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π"),r.settingsLogMenu("#SP_PLUS_SETAREA"),!1)});p.appendChild(d);const u=n.ce("a",{href:"#",className:"stnd-link stnd-link_arr sp_font_sm",id:"sp_plus_reset",innerHTML:'\n                                    <span class="b" style="color: #f86934">\n                                        <span class="sp sp-alert mr-14"></span>–°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫\n                                        <span class="ico ico_arr ico_m"></span>\n                                    </span>\n                                ',onclick:()=>(n.modalConfirm("–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏?",!0,()=>{n.delCookie("SP_PLUS_SET"),n.delCookie("SP_WEATHER"),n.delCookie("gp_left_btn"),n.delCookie("force_ajax_transport"),n.delCookie("sandbox"),document.location.reload()}),!1)});p.appendChild(u);let _=0,h=n.ce("div",{className:"widgets-group widgets-group_top nl wbg no-select"}),g=n.ce("div",{innerHTML:"v"+i.PKG_VERSION,style:{float:"right"}}),S=n.ce("div",{className:"content-item3"}),f=n.ce("div",{innerHTML:"‚ù§Ô∏è",className:"heart",onclick:()=>{++_>=10&&(document.location.href="https://t.me/spaces_dev")}}),m=n.ce("div",{className:"grey",innerHTML:'Developed by <a href="https://crashmax.ru" target="_blank">crashmax</a> with love '});h.appendChild(S),m.appendChild(f),S.appendChild(m),m.appendChild(g),n.qs("#SP_PLUS_ABOUT").appendChild(h)}return!1}});s.before(d);let p=document.createEvent("MouseEvent");o&&(document.title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Spaces+",p.initEvent("click",!0,!0),d.dispatchEvent(p)),c&&(document.title="Spaces+: –ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫",p.initEvent("click",!0,!0),null===(e=n.qs("#sp_backup"))||void 0===e||e.dispatchEvent(p)),l&&(document.title="Spaces+: –ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π",p.initEvent("click",!0,!0),null===(t=n.qs("#sp_changelog"))||void 0===t||t.dispatchEvent(p))}}catch(e){n.logger.error("settingsMenu.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stickyHeader=void 0;const n=s(0);t.stickyHeader=e=>{try{let t=n.qs("#wrap_all"),s=n.qs("#left_nav"),r=n.qs("#header_elements"),i=n.qs("#main_shadow"),a=n.qs("#top_info_block"),o=n.qs("div.sidebar-logo");if(e&&!r.hasAttribute("sp-sticky-header")){new ResizeObserver(e=>{window.requestAnimationFrame(()=>{Array.isArray(e)&&e.length&&(n.css(i,{paddingTop:"45px"}),n.css(a,{position:"fixed",width:i.clientWidth+"px",zIndex:9999}),n.css(o,{position:"fixed",width:s.clientWidth+1+"px",left:t.offsetLeft+"px",top:"0px",boxShadow:"0px 2px 2px rgba(93,109,157,0.2)",zIndex:9999}),n.css(r,{position:"fixed",width:i.clientWidth-s.clientWidth+1+"px",left:t.offsetLeft+s.clientWidth+"px",top:"0px",boxShadow:"0px 2px 2px rgba(93,109,157,0.2)",zIndex:9999}))})}).observe(document.body),r.setAttribute("sp-sticky-header","1")}else r.hasAttribute("sp-sticky-header")&&(r.removeAttribute("style"),a.removeAttribute("style"),i.removeAttribute("style"),o.removeAttribute("style"),r.removeAttribute("sp-sticky-header"))}catch(e){n.logger.error("stickyHeader.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bypassProfile=void 0;const n=s(0),r=s(1);t.bypassProfile=()=>{var e,t,s,o;try{let l=n.qsa("td.table__cell_last"),c=n.qs(`a[href^="${r.BASE_URL}/blacklist/"`),d=n.qs(`a[href^="${r.BASE_URL}/info/rules/"`),p=n.qs("div.ico_noaccess_xlarge"),u=n.qs("#SP_PLUS_INBL");if("mysite"===n.getPath(1)&&l){let o=n.getPath(3);if(c&&!u){let a=n.ce("td",{className:"table__cell",id:"SP_PLUS_INBL",innerHTML:'\n                        <a href="#" class="stnd-link" title="–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å">\n                        <span class="sp sp-eye-grey"></span> –ü–æ–∫–∞–∑–∞—Ç—å</a>\n                    ',onclick:()=>(a.after(n.ce("td",{className:"table__cell",id:"SP_PLUS_INBL",width:"25%",innerHTML:'\n                                <a href="#" class="stnd-link stnd-link_disabled" title="–ó–∞–≥—Ä—É–∑–∫–∞">\n                                <span class="ico bp ico_spinner"></span> –ó–∞–≥—Ä—É–∑–∫–∞</a>\n                            ',onclick:()=>!1})),a.remove(),i(o),!1)});null===(e=l[1].parentElement)||void 0===e||e.insertBefore(a,l[1]);let c=null===(s=null===(t=l[1])||void 0===t?void 0:t.parentElement)||void 0===s?void 0:s.childNodes;for(let e in c)"TD"===c[e].nodeName&&(c[e].width="25%");r.DATA.NICKNAME===o&&n.qs("#SP_PLUS_INBL").click()}if((d||p)&&!c&&!n.qs("#SP_LIST_LINK")){let e=n.qs("div.user__tools");e&&(e.style.borderTop="none"),a(n.trim(n.qs("#location_bar_1_0").textContent),c,d)}}else null===(o=n.qs("#SP_LIST_LINK"))||void 0===o||o.remove()}catch(e){n.logger.error("bypassProfile.ts",e)}};const i=async e=>{var t,s,i,a,o,l;if(r.DATA.NICKNAME===e&&void 0!==r.DATA.CONTENT||(r.DATA.NICKNAME=e,await n.http("GET",`https://crashmax.ru/api/proxy?url=${r.BASE_URL}/ajax/mysite/index/${e}/`,!1).then(e=>{var t;200===(null===(t=e.parsedBody)||void 0===t?void 0:t.status.http_code)?r.DATA.CONTENT=e.parsedBody.contents.content.replace(/spac1\.net|spaces-blogs\.com/gi,e=>r.HOST):n.modalMessage("–ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π","–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è! –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É",!0),n.logger.info("–ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π",e)})),null!==r.DATA.CONTENT){n.qs("#main_content").innerHTML=r.DATA.CONTENT;let e=n.qs('img[data-s*="101.100.0"');e&&(e.src=e.dataset.s),n.qs("div.user__tools").remove(),null===(i=null===(s=null===(t=n.qs('span[class$="ico_gifts"'))||void 0===t?void 0:t.parentElement)||void 0===s?void 0:s.parentElement)||void 0===i||i.remove(),null===(o=null===(a=n.qs(`a[href^="${r.BASE_URL}/activity"`))||void 0===a?void 0:a.parentElement)||void 0===o||o.remove(),null===(l=n.qs("div.btn-single__wrap"))||void 0===l||l.remove()}},a=(e,t,s)=>{let i=[{ico:"forum",text:"–¢–µ–º—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏",path:"/forums/search_user/?query="+e},{ico:"comm",text:"–°–æ–æ–±—â–µ—Å—Ç–≤–∞",path:"/comm/list/user/"+e},{ico:"friends",text:"–î—Ä—É–∑—å—è",path:"/friends/?name="+e},{ico:"readers",text:"–ß–∏—Ç–∞—Ç–µ–ª–∏",path:"/lenta/readers/?user="+e},{ico:"gifts",text:"–ü–æ–¥–∞—Ä–∫–∏",path:"/gifts/user_list/"+e}];null===t&&null===s&&(i=[{ico:"blog",text:"–õ–∏—á–Ω—ã–π –±–ª–æ–≥",path:`/diary/view/user/${e}/list/-/`},{ico:"photo",text:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏",path:`/pictures/user/${e}/list/-/`},{ico:"music",text:"–ú—É–∑—ã–∫–∞",path:`/music/user/${e}/list/-/`},{ico:"video",text:"–í–∏–¥–µ–æ",path:`/video/user/${e}/list/-/`},{ico:"file",text:"–§–∞–π–ª—ã",path:`/files/user/${e}/list/-/`}].concat(i));let a=n.ce("div",{id:"SP_LIST_LINK",className:"widgets-group links-group"});n.qs("div.js-pending-item").append(a);for(let e of i){const{ico:t,text:s,path:i}=e;let o=n.ce("a",{href:r.BASE_URL+i,className:"list-link stnd-link_arr list-link-darkblue c-darkblue",innerHTML:`\n                <span class="js-ico ico ico_${t}"></span>\n                <span class="t js-text">${s}</span>\n                <span class="ico ico_arr"></span>\n            `});a.append(o)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReaders=void 0;const n=s(0),r=s(1);t.deleteReaders=()=>{try{let e=n.qs("#SP_PLUS_BUTTONS_R"),t=n.qsa(`a[href^="${r.BASE_URL}/lenta/reader_delete/"`);if("/lenta/readers/"===n.getPath()&&t&&!e){let e=[];for(let s of t){let t=n.ce("label",{className:"stnd-link icon-link sp-ch-readers"}),r=n.getParams(s.href).user,i=n.ce("input",{type:"checkbox",className:"sp-cbfr sp-checkbox-square",id:r}),a=n.ce("label",{htmlFor:r});t.appendChild(i),t.appendChild(a),s.after(t),e.push(i)}if(n.qs(".sp-ch-readers")){let t=n.ce("div",{className:"user__tools_last",id:"SP_PLUS_BUTTONS_R"});const s=n.ce("button",{className:"user__tools-link table__cell sp_btn-list",innerHTML:'\n                        <span class="sp sp-ok-blue"></span>\n                        <span class="sp-ch-text">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</span>\n                    ',style:{borderRight:"unset"},onclick:t=>{if(t.target instanceof Element){let s="SPAN"===t.target.nodeName?t.target.parentNode:t.target;for(let t of e)t.checked=-1!==s.innerHTML.indexOf("–í—ã–±—Ä–∞—Ç—å –≤—Å–µ");s.innerHTML=`\n                                <span class="sp sp-ok-blue"></span>\n                                <span class="sp-ch-text">\n                                    ${-1!==s.innerHTML.indexOf("–í—ã–±—Ä–∞—Ç—å –≤—Å–µ")?"–°–Ω—è—Ç—å –æ—Ç–º–µ—Ç–∫–∏":"–í—ã–±—Ä–∞—Ç—å –≤—Å–µ"}\n                                </span>\n                            `}}}),a=n.ce("button",{className:"user__tools-link table__cell sp_btn_line sp_btn-list",innerHTML:'\n                        <span class="sp sp-remove-red"></span>\n                        <span class="sp-del-text">–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö</span>\n                    ',onclick:()=>{let t=[];for(let s of e)s.checked&&t.push(s.id);let s=t.length;s>0?n.modalConfirm(`–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å ${s} ${i(s)}?`,!0,async()=>{let e=s;for(let a of t)n.modalMessage(`–û—Å—Ç–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å ${s--} –∏–∑ ${e} ${i(s)}`,'–ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ... <span style="padding-right: 10px" class="ico ico_spinner"></span>',!1),await n.http("POST",`${r.BASE_URL}/lenta/reader_delete/?user=${a}`,!1,`&CK=${r.DATA.CK}&cfms=–£–¥–∞–ª–∏—Ç—å`).then(e=>{n.logger.info("–£–¥–∞–ª–∏–ª–∏ —á–∏—Ç–∞—Ç–µ–ª—è",e)});document.location.reload()}):n.modalMessage("–í–Ω–∏–º–∞–Ω–∏–µ!","–û—Ç–º–µ—Ç—å—Ç–µ –≥–∞–ª–æ—á–∫–æ–π, —Ç–µx —á–∏—Ç–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑",!0,5)}});t.appendChild(a),t.appendChild(s);let o=n.qs("div.pgn-wrapper"),l=n.qs("#main");o?o.prepend(t):l&&(t.classList.add("widgets-group"),l.prepend(t))}}}catch(e){n.logger.error("deleteReaders.ts",e)}};const i=e=>"—á–∏—Ç–∞—Ç–µ–ª"+n.declOfNum(e,["—è","—è","–µ–π"])},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendsOnline=void 0;const n=s(0),r=s(1),i=s(2);t.friendsOnline=e=>{var t,s;try{let a=n.qs("#friends_cnt"),o=n.qs("#SP_PLUS_FRIENDS_B"),l=0;if(a&&(l=Number(a.textContent)),e&&l>0){let e=null===(s=null===(t=null==a?void 0:a.parentNode)||void 0===t?void 0:t.parentNode)||void 0===s?void 0:s.parentNode;o=o||n.ce("div",{id:"SP_PLUS_FRIENDS_B",className:"list-link__wrap"}),n.http("GET",r.BASE_URL+"/friends/?S=3",!0).then(e=>{var t;const s=null===(t=e.parsedBody)||void 0===t?void 0:t.tabbed_panel.tabs[1].content.list;if(s){let t=!!n.qs("span.s_i_exit"),a=s,l=i._SETTINGS.friendsSet.max>a.length?a.length:i._SETTINGS.friendsSet.max;for(let e=0;e<l;e++)o.appendChild(n.ce("a",{href:`${r.BASE_URL}/mysite/index/${a[e].name}`,className:"li",innerHTML:(t?`<span class="comm_ava m for_avatar"><img src="${a[e].avatar.previewURL}" class="preview s21_20"></span>`:"")+`<span class="online-status m"><img class="p14 online_status_ico" src="${r.HTTP}//spac.me/i/${a[e].online_status.on_img}" alt="(ON)"></span><span class="block-item__title m break-word">${a[e].name}</span>`}));n.logger.info("–ü–∞–Ω–µ–ª—å –¥—Ä—É–∑–µ–π –æ–Ω–ª–∞–π–Ω",e)}}),null==e||e.appendChild(o)}else null==o||o.remove()}catch(e){n.logger.error("friendsOnline.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryRotate=void 0;const n=s(0),r=s(2);t.galleryRotate=()=>{let e=n.qs("#gallery-container"),t=n.qs("#SP_IMAGE_ROTATE"),s=n.qs(".player-dummy_wrap");try{if(e&&!t&&!s){let t=n.ce("a",{className:"gallery__tools_button",id:"SP_IMAGE_ROTATE",title:"–ü–æ–≤–µ—Ä–Ω—É—Ç—å",innerHTML:'<span class="ico_gallery ico_gallery_reload m"></span>',onclick:()=>(n.setSettings("angle",(r._SETTINGS.angle+90)%360),e.className="accel-3d rotate"+r._SETTINGS.angle,!1)});n.qs("#g_dloadlink").after(t)}}catch(e){n.logger.error("galleryRotate.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sidebarButton=void 0;const n=s(0),r=s(1);t.sidebarButton=()=>{n.qsa(`li.li>a[href^="${r.BASE_URL}/services/"]`).forEach(e=>{var t;let s=n.qs("span.s_i_exit")?'<span class="sp sp-ico"></span>':"",i=n.ce("li",{className:"li",innerHTML:`\n                <a href="${r.BASE_URL}/settings/?sp_plus_settings=1" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Spaces+">\n                ${s}\n                <span class="m s_i_text"> Spaces+</span></a>\n            `});null===(t=e.parentElement)||void 0===t||t.after(i)})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.weatherWidget=void 0;const n=s(0),r=s(8),i=s(2);t.weatherWidget=()=>{o()-i._SETTINGS.weatherSet.time>i._SETTINGS.weatherSet.interval&&null!==i._SETTINGS.weatherSet.city&&(i._SETTINGS.weatherSet.time=o(),r.getWeather()),n.qs("#SP_WIDGET_WEATHER")||null===i._SETTINGS.weatherSet.city||a()};const a=()=>{let e=n.qs("#page_rightbar");if(e&&l()){let{id:t,name:s,main:r,wind:i,weather:a,clouds:o}=l(),c=n.ce("div",{className:"widgets-group_top js-container__block",id:"SP_WIDGET_WEATHER",style:{boxShadow:"0px 3px 5px rgba(93,109,157,0.3)"}}),d=n.ce("div",{className:"b-title cl b-title_first oh",innerHTML:`\n                <a href="https://openweathermap.org/city/${t}" target="_blank" class="b-title__link" style="white-space: unset">\n                    <h6 class="span">–ü–æ–≥–æ–¥–∞ –≤ –≥. ${s}</h6>\n                </a>\n            `}),p=n.ce("div",{className:"content",style:{padding:"0px 16px 16px 16px"},innerHTML:`\n                <img src="https://openweathermap.org/img/wn/${a[0].icon}@2x.png" class="sp_img-center">\n                <div class="grey sp_weather-container">\n                    <p>${Math.round(r.temp)}¬∞C</p>\n                    <p>${n.toUpper(a[0].description)}</p>\n                </div>\n                <table class="grey sp_weather-table">\n                    <tbody>\n                        <tr>\n                            <td>–û–±–ª–∞—á–Ω–æ—Å—Ç—å: </td>\n                            <td>${o.all}%</td>\n                        </tr>\n                        <tr>\n                            <td>–í–ª–∞–∂–Ω–æ—Å—Ç—å: </td>\n                            <td>${r.humidity}%</td>\n                        </tr>\n                        <tr>\n                            <td>–î–∞–≤–ª–µ–Ω–∏–µ: </td>\n                            <td>${Math.round(.75*r.pressure)}mmHg</td>\n                        </tr>\n                        <tr>\n                            <td>–í–µ—Ç–µ—Ä: </td>\n                            <td>${i.speed}m/sec</td>\n                        </tr>\n                    </tbody>\n                </table>\n            `});c.appendChild(d),c.appendChild(p),e.appendChild(c)}},o=()=>Math.round((new Date).getTime()/1e3),l=()=>{const e=n.getCookie("SP_WEATHER");if(void 0!==e)return JSON.parse(e);r.ipWhois()}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteComments=void 0;const n=s(0),r=s(1);t.deleteComments=()=>{var e,t,s,a,o,l,c,d,p,u,_,h;try{let g=n.qs("h2.span"),S=n.qsa("span.comment_date"),f=n.qs(`a[href^="${r.BASE_URL}/comment/delete/"`),m=n.qs(`a[href^="${r.BASE_URL}/forums/moder/ban/"`),v="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"===(null==g?void 0:g.textContent),b="–£–¥–∞–ª–∏—Ç—å"===(null==f?void 0:f.textContent),y="–ë–∞–Ω"===(null==m?void 0:m.textContent);if(S&&v&&(b||y)){for(let i of S)if(!i.getElementsByTagName("input").length){let g=4===r.DEVICE.id?null===(o=null===(a=null===(s=null===(t=null===(e=i.parentElement)||void 0===e?void 0:e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===s?void 0:s.parentElement)||void 0===a?void 0:a.parentElement)||void 0===o?void 0:o.id:null===(h=null===(_=null===(u=null===(p=null===(d=null===(c=null===(l=i.parentElement)||void 0===l?void 0:l.parentElement)||void 0===c?void 0:c.parentElement)||void 0===d?void 0:d.parentElement)||void 0===p?void 0:p.parentElement)||void 0===u?void 0:u.parentElement)||void 0===_?void 0:_.parentElement)||void 0===h?void 0:h.id;if(parseInt(g)){let e=n.ce("input",{type:"checkbox",className:"sp-cbfc sp-checkbox-square",id:"DC_"+g});i.appendChild(e),i.appendChild(n.ce("label",{htmlFor:"DC_"+g}))}}if(!n.qs("#SP_PLUS_BUTTONS")){let e=n.ce("div",{className:"widgets-group user__tools_last",id:"SP_PLUS_BUTTONS"});const t=n.ce("button",{className:"user__tools-link table__cell sp_btn-list",innerHTML:'\n                        <span class="sp sp-ok-blue"></span>\n                        <span class="sp-ch-text">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</span>\n                    ',onclick:e=>{if(e.target instanceof Element){let t=n.qsa('input[id^="DC_"]'),s="SPAN"===e.target.nodeName?e.target.parentNode:e.target;for(let e of t)e.checked=-1!==s.innerHTML.indexOf("–í—ã–±—Ä–∞—Ç—å –≤—Å–µ");s.innerHTML=`\n                                <span class="sp sp-ok-blue"></span>\n                                    <span class="sp-ch-text">\n                                    ${-1!==s.innerHTML.indexOf("–í—ã–±—Ä–∞—Ç—å –≤—Å–µ")?"–°–Ω—è—Ç—å –æ—Ç–º–µ—Ç–∫–∏":"–í—ã–±—Ä–∞—Ç—å –≤—Å–µ"}\n                                </span>\n                            `}}}),s=n.ce("button",{className:"user__tools-link table__cell sp_btn_line sp_btn-list",innerHTML:'\n                        <span class="sp sp-remove-red"></span>\n                        <span class="sp-del-text">–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</span>\n                    ',onclick:()=>{var e,t,s,a,o,l,c,d,p,u,_;let h=n.qsa('input[id^="DC_"]'),g=[];for(let n of h)n.checked&&Array.prototype.slice.call(null===(_=4===r.DEVICE.id?null===(a=null===(s=null===(t=null===(e=null==n?void 0:n.parentNode)||void 0===e?void 0:e.parentNode)||void 0===t?void 0:t.parentNode)||void 0===s?void 0:s.parentNode)||void 0===a?void 0:a.parentNode:null===(u=null===(p=null===(d=null===(c=null===(l=null===(o=null==n?void 0:n.parentNode)||void 0===o?void 0:o.parentNode)||void 0===l?void 0:l.parentNode)||void 0===c?void 0:c.parentNode)||void 0===d?void 0:d.parentNode)||void 0===p?void 0:p.parentNode)||void 0===u?void 0:u.parentNode)||void 0===_?void 0:_.querySelectorAll(`a[href^="${r.BASE_URL}/comment/delete/"]`)).filter(e=>{"–£–¥–∞–ª–∏—Ç—å"===e.textContent&&g.push(e.href)});let S=g.length;return S>0?n.modalConfirm(`–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å ${S} ${i(S)}?`,!0,async()=>{let e=S;for(let t of g)n.modalMessage(`–û—Å—Ç–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å ${S--} –∏–∑ ${e} ${i(S)}`,'–ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ... <span style="padding-right: 10px" class="ico ico_spinner"></span>',!1),await n.http("GET",t,!0).then(e=>{n.logger.info("–£–¥–∞–ª–∏–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",e)});document.location.reload()}):n.modalMessage("–í–Ω–∏–º–∞–Ω–∏–µ!","–û—Ç–º–µ—Ç—å—Ç–µ –≥–∞–ª–æ—á–∫–æ–π, —Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑",!0,5),!1}});e.appendChild(s),e.appendChild(t),n.qs("div.js-comments-pgn").after(e)}}}catch(e){n.logger.error("deleteComments.ts",e)}};const i=e=>"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏"+n.declOfNum(e,["–π","—è","–µ–≤"])},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hiddenRightbar=void 0;const n=s(0),r=s(2);t.hiddenRightbar=e=>{let t=n.qs("#page_rightbar");e&&r._SETTINGS.weather&&n.qs("#weather").click();try{e&&!t.hasAttribute("sp-hidden-rightbar")?(t.style.display="none",t.setAttribute("sp-hidden-rightbar","1")):(null==t?void 0:t.hasAttribute("sp-hidden-rightbar"))&&(t.style.display="block",t.removeAttribute("sp-hidden-rightbar"))}catch(e){n.logger.error("hidderRightbar.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playerDownload=void 0;const n=s(0),r=s(1);t.playerDownload=()=>{var e;try{let t=0,s=sessionStorage.getItem("music:track"),i=sessionStorage.getItem("music:playlist"),a=n.qs("#SP_MUSIC_DOWN");if(n.qs("#gp_main_player")&&s&&i){let o=JSON.parse(s),l=JSON.parse(i);t=parseInt(o.id,10);let c=l.playlist.playlist[t].src,d=n.qs("a.js-music_repeat");if(d&&!a){r.DATA.PLAYER=t;let s=n.ce("td",{id:"SP_MUSIC_DOWN",className:"ico_td",innerHTML:'<span style="margin: 0px 6px 0px 0px !important" class="sp sp-download-darkblue" title="–°–∫–∞—á–∞—Ç—å"></span>',onclick:()=>location.href=c});null===(e=d.parentElement)||void 0===e||e.after(s)}else a&&r.DATA.PLAYER!==t&&(r.DATA.PLAYER=t,a.onclick=()=>location.href=c,n.logger.info("–û–±–Ω–æ–≤–∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ —Ç—Ä–µ–∫",o))}}catch(e){n.logger.error("playerDownload.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsNotify=void 0;const n=s(0),r=s(1),i=s(2);t.settingsNotify=e=>{var t;try{"Notification"in window?"denied"!==Notification.permission.toLowerCase()?Notification.requestPermission(e=>{"granted"!==e.toLowerCase()&&n.modalMessage("–í–Ω–∏–º–∞–Ω–∏–µ!",`–†–∞–∑—Ä–µ—à–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—É –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å —Å–∞–π—Ç–∞ ${r.BASE_URL}, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π`,!0,5)}):n.modalMessage("–í–Ω–∏–º–∞–Ω–∏–µ!","–í—ã –∑–∞–ø—Ä–µ—Ç–∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è —Å–∞–π—Ç–∞ "+r.BASE_URL,!0,5):n.modalMessage("–í–Ω–∏–º–∞–Ω–∏–µ!","–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",!0,5);let s=n.ce("div",{id:"SP_PLUS_EVENTS"}),a=n.ce("label",{innerHTML:'–°—Å—ã–ª–∫–∞ –Ω–∞ –∞—É–¥–∏–æ—Ñ–∞–π–ª:<div class="label__desc">.ogg –∏–ª–∏ .wav</div>',className:"label",style:{marginRight:"-17px"}}),o=n.ce("label",{innerHTML:"–ì—Ä–æ–º–∫–æ—Å—Ç—å:",className:"label"}),l=n.ce("div",{className:"text-input__wrap",style:{margin:"15px"}}),c=n.ce("div",{style:{margin:"15px"}}),d=n.ce("label",{className:"stnd-link sp_noborder"}),p=n.ce("label",{className:"stnd-link sp_noborder"}),u=n.ce("label",{className:"stnd-link sp_noborder"}),_=n.ce("input",{type:"text",value:i._SETTINGS.notifySet.url,className:"text-input",oninput:e=>{const t=e.target.value;n.isValidUrl(t)&&/\.(ogg|mp3|wav)$/i.test(t)?(n.setSettings("notifySet.url",t),_.classList.remove("sp-input-error")):_.classList.add("sp-input-error")}}),h=n.ce("span",{className:"text-input__btn",innerHTML:'<span class="sp sp-play-green"></span>',title:"–ü—Ä–æ—Å–ª—É—à–∞—Ç—å",style:{top:"23px"},onclick:()=>n.playSound(i._SETTINGS.notifySet.url,i._SETTINGS.notifySet.volume)}),g=n.ce("div",{className:"label__desc",innerHTML:i._SETTINGS.notifySet.volume+"%"}),S=n.ce("input",{type:"range",min:0,max:100,step:1,value:i._SETTINGS.notifySet.volume,oninput:e=>{const t=e.target.value;g.innerHTML=t+"%",n.setSettings("notifySet.volume",t)}}),f=n.ce("input",{type:"checkbox",id:"sp_event_mail",className:"sp-checkbox-square",checked:i._SETTINGS.notifySet.mail,onclick:e=>n.setSettings("notifySet.mail",e.target.checked)}),m=n.ce("label",{htmlFor:"sp_event_mail",innerHTML:"–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –ø–æ—á—Ç–µ"}),v=n.ce("input",{type:"checkbox",id:"sp_event_journal",className:"sp-checkbox-square",checked:i._SETTINGS.notifySet.journal,onclick:e=>n.setSettings("notifySet.journal",e.target.checked)}),b=n.ce("label",{htmlFor:"sp_event_journal",innerHTML:"–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –∂—É—Ä–Ω–∞–ª–µ"}),y=n.ce("input",{type:"checkbox",id:"sp_event_feed",className:"sp-checkbox-square",checked:i._SETTINGS.notifySet.feed,onclick:e=>n.setSettings("notifySet.feed",e.target.checked)}),T=n.ce("label",{htmlFor:"sp_event_feed",innerHTML:"–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –ª–µ–Ω—Ç–µ"});l.appendChild(a),l.appendChild(_),l.appendChild(h),o.appendChild(g),c.appendChild(o),c.appendChild(S),s.appendChild(l),s.appendChild(c),d.appendChild(f),d.appendChild(m),p.appendChild(v),p.appendChild(b),u.appendChild(y),u.appendChild(T),s.appendChild(d),s.appendChild(p),s.appendChild(u),null===(t=e.parentElement)||void 0===t||t.after(s)}catch(e){n.logger.error("settingsNotify.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disableRedirect=void 0;const n=s(0),r=s(1);t.disableRedirect=()=>{n.qsa(`a[href^="${r.BASE_URL}/redirect/"`).forEach(e=>{e.href=n.getParams(e.href).redirect})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsLogMenu=void 0;const n=s(0),r=s(7),i=s(1);t.settingsLogMenu=e=>{window.scrollTo(0,0);const t=n.qs(e);if(t)try{t.innerHTML="";let e=n.ce("div",{className:"wbg error__item_wrapper sp_plus_c_wrap"}),s=n.ce("div",{className:"pad_t_a"}),a=n.ce("div",{className:"js-input_error_wrap"}),o=n.ce("div",{className:"t_center",id:"SP_JSON_PRELOADER",innerHTML:`<img src="${i.HTTP}//spac.me/i/preloader.gif">`});a.appendChild(s),e.appendChild(a),t.appendChild(e),e.appendChild(o),r.getUpdater(e=>{for(let t of e.history){let e=n.ce("label",{className:"label sp_plus_line_c",innerHTML:`v${n.rever(t.build)}<div class="label__desc">${t.date}</div>`}),r=n.ce("div",{className:"grey sp_plus_c_desc",innerHTML:t.changes});s.appendChild(e),s.appendChild(r)}n.qs("#SP_JSON_PRELOADER").remove()})}catch(e){n.logger.error("settingsLogMenu.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsFriends=void 0;const n=s(0),r=s(2);t.settingsFriends=e=>{var t;try{let s=n.ce("div",{id:"SP_PLUS_MAXFRIENDS"}),i=n.ce("div",{className:"sp_settings-wrap"}),a=n.ce("input",{type:"text",className:"text-input",size:4,maxLength:2,value:r._SETTINGS.friendsSet.max,oninput:e=>{const t=e.target.value;/^([1-9]|1[0-5])$/i.test(t)?(n.setSettings("friendsSet.max",t),a.classList.remove("sp-input-error")):a.classList.add("sp-input-error")}}),o=n.ce("label",{innerHTML:'–í—ã–≤–æ–¥–∏—Ç—å –¥—Ä—É–∑–µ–π:<div class="label__desc">–æ—Ç 1 –¥–æ 15</div>',className:"label"});i.appendChild(o),i.appendChild(a),s.appendChild(i),null===(t=e.parentElement)||void 0===t||t.after(s)}catch(e){n.logger.error("settingsFriends.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsFeatures=void 0;const n=s(0),r=s(63),i=s(2),a=s(1);t.settingsFeatures=e=>{let t=n.ce("div",{id:"wrap_spaces_option"}),s=n.ce("a",{href:"#",className:"stnd-link stnd-link_arr sp_font_sm",innerHTML:o(i._SETTINGS.apidebug?'<span class="sp sp-remove-grey mr-14"></span>–û—Ç–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥—á–∏–∫':'<span class="sp sp-settings mr-14"></span>–í–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥—á–∏–∫'),onclick:()=>(n.setSettings("apidebug",!i._SETTINGS.apidebug),document.location.reload(),!1)});const l=n.getCookie("sandbox");let c=n.ce("a",{href:"#",className:"stnd-link stnd-link_arr sp_font_sm",id:"sp_spacesAction_beta",innerHTML:o(l?'<span class="sp sp-exit-grey mr-14"></span>–í—ã–π—Ç–∏ –∏–∑ –ø–µ—Å–æ—á–Ω–∏—Ü—ã':'<span class="sp sp-enter-grey mr-14"></span>–í–æ–π—Ç–∏ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü—É'),onclick:()=>(l?n.delCookie("sandbox"):n.setCookie("sandbox","beta"),document.location.reload(),!1)});const d=n.getCookie("force_ajax_transport");let p=n.ce("a",{href:"#",className:"stnd-link stnd-link_arr sp_font_sm",id:"sp_spacesFAT",innerHTML:o(d?'<span class="sp sp-remove-grey mr-14"></span>–£–±—Ä–∞—Ç—å –ø–æ–ª–æ—Å—É –∑–∞–≥—Ä—É–∑–∫–∏':'<span class="sp sp-ok-grey mr-14"></span>–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–æ—Å—É –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã'),onclick:()=>(d?n.delCookie("force_ajax_transport"):n.setCookie("force_ajax_transport","1"),document.location.reload(),!1)});const u=n.getCookie("gp_left_btn");let _=n.ce("a",{href:"#",className:"stnd-link stnd-link_arr sp_last_btn",id:"sp_spacesGLB",innerHTML:o(u?'<span class="sp sp-remove-grey mr-14"></span>–£–±—Ä–∞—Ç—å –ø–ª–µ–µ—Ä –∏–∑ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏':'<span class="sp sp-ok-grey mr-14"></span>–ó–∞–∫—Ä–µ–ø–∏—Ç—å –ø–ª–µ–µ—Ä –Ω–∞ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏'),onclick:()=>(u?n.delCookie("gp_left_btn"):n.setCookie("gp_left_btn","1"),document.location.reload(),!1)}),h=n.ce("a",{href:"#",id:"sp_newbequest_togl",className:"stnd-link stnd-link_arr sp_line sp_last_btn sp_newbq_l",innerHTML:o('<span class="sp sp-remove-grey mr-14"></span>–°–∫—Ä—ã—Ç—å –∫–≤–µ—Å—Ç –Ω–æ–≤–∏—á–∫–∞'),onclick:()=>(n.modalConfirm("–í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ —Å–∫—Ä—ã—Ç—å –∫–≤–µ—Å—Ç –Ω–æ–≤–∏—á–∫–∞?",!0,()=>{n.http("GET",`${a.BASE_URL}/newbequest/?CK=${a.DATA.CK}`,!0).then(e=>{200===e.status&&n.modalMessage("–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!","–ö–≤–µ—Å—Ç –Ω–æ–≤–∏—á–∫–∞ –±—ã–ª —É—Å–ø–µ—à–Ω–æ —Å–∫—Ä—ã—Ç",!0,5)})}),!1)});t.appendChild(s),t.appendChild(c),t.appendChild(p),t.appendChild(_),r.newbeeQuest(t,h),e.appendChild(t)};const o=e=>`<span class="b">${e}<span class="ico ico_arr ico_m"></span></span>`},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newbeeQuest=void 0;const n=s(0),r=s(1);t.newbeeQuest=(e,t)=>{try{n.http("GET",r.BASE_URL+"/mysite/",!0).then(s=>{var r;(null===(r=s.parsedBody)||void 0===r?void 0:r.owner_widget.newbee_quest_widget)&&e.appendChild(t),n.logger.info("–ö–≤–µ—Å—Ç –Ω–æ–≤–∏—á–∫–∞",s)})}catch(e){n.logger.error("newbeeQuest.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoSpeedPlayback=void 0;const n=s(0),r=s(2);t.videoSpeedPlayback=()=>{let e=n.qs("span.jwcontrols"),t=n.qs("#SP_PLAYBACK_VIDEO");try{if(t&&(n.qs("video").playbackRate=r._SETTINGS.videoSpeed),e&&!t){let e=n.qs('span[class*="jwtext jwduration jwhidden"]'),t=n.ce("span",{className:"jwtext jwduration jwhidden",id:"SP_PLAYBACK_VIDEO",innerHTML:"x"+r._SETTINGS.videoSpeed,onclick:()=>{let e=(r._SETTINGS.videoSpeed+.25)%2.25;return 0===e&&(e=.5),n.setSettings("videoSpeed",e),t.innerHTML="x"+e,!1}});e.after(t)}}catch(e){n.logger.error("videoSpeedPlayback.ts",e)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsBackground=void 0;const n=s(0),r=s(6),i=s(2),a=s(1);t.settingsBackground=e=>{var t;try{let s=n.ce("div",{className:"text-input__wrap"}),a=n.ce("div",{id:"SP_PLUS_BODYSTYLE"}),c=n.ce("label",{className:"stnd-link",style:{borderBottom:"none"}}),d=n.ce("label",{className:"stnd-link",style:{borderBottom:"none"}}),p=n.ce("div",{className:"bstrwrap",style:{borderBottom:"none",padding:"15px"}}),u=n.ce("label",{innerHTML:'–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:<div class="label__desc">.jpg –∏–ª–∏ .png</div>',className:"label",style:{marginRight:"-17px"}}),_=n.ce("label",{innerHTML:'–¶–≤–µ—Ç —Ñ–æ–Ω–∞:<div class="label__desc">#RRGGBB</div>',className:"label",style:{marginRight:"-17px"}}),h=n.ce("input",{type:"text",id:"image-input",className:"text-input",value:i._SETTINGS.bodystyleSet.url,style:{marginBottom:"7px"},oninput:e=>{const t=e.target.value;n.isValidUrl(t)&&/\.(jpg|jpeg|png|gif)$/i.test(t)?(n.setSettings("bodystyleSet.url",t),r.setStyles(),h.classList.remove("sp-input-error")):h.classList.add("sp-input-error")}}),g=n.ce("input",{type:"text",className:"text-input",id:"color-input",value:i._SETTINGS.bodystyleSet.color,oninput:e=>{const t=e.target.value;/^\#([A-Za-z0-9]{3,6})$/i.test(t)?(n.setSettings("bodystyleSet.color",t),r.setStyles(),g.classList.remove("sp-input-error")):g.classList.add("sp-input-error")}}),S=n.ce("input",{type:"radio",id:"sp_set_bodystyle_URL",checked:i._SETTINGS.bodystyleSet.urlchecked,className:"sp-checkbox-circle",onclick:e=>{const t=e.target.checked;n.setSettings("bodystyleSet.urlchecked",t),t&&f.checked&&(f.checked=!1,n.setSettings("bodystyleSet.colorchecked",!1)),i._SETTINGS.bodystyleSet.urlchecked?(r.setStyles(),o()):n.qs("#SP_WRAP_IMAGE").remove()}}),f=n.ce("input",{type:"radio",id:"sp_set_bodystyle_color",checked:i._SETTINGS.bodystyleSet.colorchecked,className:"sp-checkbox-circle",onclick:e=>{const t=e.target.checked;n.setSettings("bodystyleSet.colorchecked",t),t&&S.checked&&(S.checked=!1,n.setSettings("bodystyleSet.urlchecked",!1)),i._SETTINGS.bodystyleSet.colorchecked?(r.setStyles(),l()):n.qs("#SP_WRAP_COLOR").remove()}}),m=n.ce("label",{htmlFor:"sp_set_bodystyle_URL",innerHTML:"–í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"}),v=n.ce("label",{htmlFor:"sp_set_bodystyle_color",innerHTML:"–ü–æ–¥–æ–±—Ä–∞—Ç—å —Ü–≤–µ—Ç"});s.appendChild(u),s.appendChild(h),s.appendChild(_),s.appendChild(g),c.appendChild(S),c.appendChild(m),d.appendChild(f),d.appendChild(v),p.appendChild(s),a.appendChild(p),a.appendChild(c),a.appendChild(d),null===(t=e.parentElement)||void 0===t||t.after(a),i._SETTINGS.bodystyleSet.urlchecked&&o(),i._SETTINGS.bodystyleSet.colorchecked&&l()}catch(e){n.logger.error("settingsBackground.ts",e)}};const o=async()=>{try{if(!n.qs("#SP_WRAP_IMAGE")){n.qs("#SP_WRAP_COLOR")&&(n.qs("#SP_WRAP_COLOR").remove(),n.qs("#SP_PLUS_CP_STYLE").remove());let e=n.ce("link",{rel:"stylesheet",type:"text/css",id:"SP_PLUS_IMAGE_STYLE",href:`${a.ENV_PATH}/css/bodystyle.css?r=${a.REVISION}`});document.getElementsByTagName("head")[0].appendChild(e);let t=n.qs("#SP_PLUS_BODYSTYLE"),s=n.ce("div",{className:"js-gallery_skip wbg oh tiles_block tiles_wrapper"}),i=n.ce("div",{id:"SP_WRAP_IMAGE",style:{borderTop:"1px solid #cdd4e1"}});await n.http("GET",`${a.ENV_PATH}/data.json?r=${a.REVISION}`,!1).then(e=>{var o,l;if(200===e.status&&(null===(o=e.parsedBody)||void 0===o?void 0:o.backgrounds)){for(let t of null===(l=e.parsedBody)||void 0===l?void 0:l.backgrounds){let e=n.ce("div",{className:"js-file_item tiled_item tiled_item-200"}),i=n.ce("div",{className:"tiled_inner t_center relative"}),o=n.ce("span",{className:"relative sp_bg-items"}),l=n.ce("div",{className:"tiled-preview border"}),c=n.ce("img",{className:"preview s201_200",src:`${a.ENV_PATH}/backgrounds/${t}`,style:{cursor:"pointer"},onclick:e=>{const t=e.target.src;n.qs("#image-input").value=t,n.setSettings("bodystyleSet.url",t),r.setStyles()}});l.appendChild(c),o.appendChild(l),i.appendChild(o),e.appendChild(i),s.appendChild(e)}i.appendChild(s),t.appendChild(i)}r.setStyles()})}}catch(e){n.logger.error("setImage",e)}},l=()=>{try{if(!n.qs("#SP_WRAP_COLOR")){n.qs("#SP_WRAP_IMAGE")&&(n.qs("#SP_WRAP_IMAGE").remove(),n.qs("#SP_PLUS_IMAGE_STYLE").remove());let e=n.ce("link",{rel:"stylesheet",type:"text/css",id:"SP_PLUS_CP_STYLE",href:`${a.ENV_PATH}/css/user-content.css?r=${a.REVISION}`});document.getElementsByTagName("head")[0].appendChild(e);let t=n.ce("div",{className:"stnd-block"}),s=n.qs("#SP_PLUS_BODYSTYLE"),o=n.ce("div",{id:"SP_WRAP_COLOR",style:{borderTop:"1px solid #cdd4e1"}}),l=n.ce("table",{className:"table__wrap bb-colorpicker"}),d=n.ce("tbody"),p=n.ce("tr"),u=n.ce("td",{className:"table__cell"});const _=[["#90CAF9","#80DEEA","#A5D6A7","#FFF59D","#FFCC80","#FFAB91","#CE93D8"],["#2196F3","#00BCD4","#4CAF50","#FFEB3B","#FF9800","#F44336","#9C27B0"],["#1565C0","#00838F","#2E7D32","#F9A825","#EF6C00","#C62828","#6A1B9A"],["#ECF0F1","#CFD8DC","#B0BEC5","#97A6B0","#546E7A","#44565E","#3A474C"]];for(let e of _){for(let s in e){let r=n.ce("div",{className:"js-bb_color toolbar-color pointer",style:{backgroundColor:e[s]}});r.setAttribute("data-tag","fon"),r.setAttribute("data-val",e[s]),t.appendChild(r)}t.appendChild(n.ce("br"))}u.appendChild(t),p.appendChild(u);let h=n.ce("td",{className:"table__cell table__cell_last"}),g=n.ce("div",{className:"stnd-block"}),S=n.ce("div",{className:"js-bb_colorpicker"});g.appendChild(S),h.appendChild(g),p.appendChild(h),d.appendChild(p),l.appendChild(d),o.appendChild(l),s.appendChild(o),setTimeout(()=>{let e=new CP(S,!1,S);n.qs("#color-input").addEventListener("change",t=>{/^\#([A-Za-z0-9]{3}|[A-Za-z0-9]{6})$/i.test(t.target.value)?(n.setSettings(i._SETTINGS.bodystyleSet.color,t.target.value),r.setStyles(),e.set(i._SETTINGS.bodystyleSet.color),t.target.classList.remove("sp-input-error")):t.target.classList.add("sp-input-error")}),e.enter(),e.set(i._SETTINGS.bodystyleSet.color),e.on("change",e=>{const t="#"+e.toUpperCase();c(t),n.setSettings("bodystyleSet.color",t),r.setStyles()});const t=document.querySelectorAll(".js-bb_color");for(let s of t)s.addEventListener("click",t=>{const s=t.target.getAttribute("data-val");c(s),n.setSettings("bodystyleSet.color",s),r.setStyles(),e.set(s)})},100)}}catch(e){n.logger.error("setColor",e)}},c=e=>{n.qs("input[name=color]").value=e,n.qs("#color-input").value=e,n.qs(".colorpicker-color").style.backgroundColor=e}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsBackupMenu=void 0;const n=s(0),r=s(2);t.settingsBackupMenu=e=>{var t;window.scrollTo(0,0);const i=n.qs(e),a=s(67);if(i)try{if(i.innerHTML="",!r._SETTINGS.hideNotify.configImport){let e=n.ce("span",{className:"sp sp-remove-grey pointer right notif_close close_h",title:"–ü–æ–Ω—è—Ç–Ω–æ, –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å.",style:{margin:"10px"},onclick:()=>{n.setSettings("hideNotify.configImport",!0),n.qs("#SP_CONFIG_JSON").remove()}}),t=n.ce("div",{className:"stnd-block-yellow",innerHTML:'<span class="sp sp-alert"></span>–í–Ω–∏–º–∞–Ω–∏–µ!</br></br><div style="font-size: small">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π! –ü–µ—Ä–µ–¥ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫, —Å–ª–µ–¥—É–µ—Ç —Å–¥–µ–ª–∞—Ç—å –≠–∫—Å–ø–æ—Ä—Ç, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, —Å–ª–µ–¥—É–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫.</div>',style:{padding:"16px"}}),s=n.ce("div",{id:"SP_CONFIG_JSON"});s.appendChild(e),i.appendChild(s),s.appendChild(t)}let e=n.ce("div",{style:{padding:"16px 16px 14px 16px"}}),s=n.ce("div",{className:"widgets-group user__tools_last",id:"SP_PLUS_BOTTOM_DIVB"}),o=n.ce("div",{className:"widgets-group user__tools_last",style:{margin:"unset"}}),l=n.ce("div",{className:"text-input__wrap"}),c=n.ce("div",{className:"cl"}),d=n.ce("button",{className:"user__tools-link table__cell sp_btn",innerHTML:'\n                    <span class="sp sp-ok-darkblue"></span>\n                    <span style="color: #0E3C87; padding-left: 10px">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</span>\n                ',style:{borderRight:"none",borderTop:"1px solid #cdd4e1"},onclick:()=>{var e;try{let t=JSON.parse(n.qs("#SP_BACKUP_JSON").value);null===(e=n.qs("#SP_PLUS_ALERT"))||void 0===e||e.remove(),n.setCookie("SP_PLUS_SET",JSON.stringify(t)),n.modalMessage("–ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫","–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã",!0,3)}catch(e){n.modalMessage("–û—à–∏–±–∫–∞ —Ä–∞–∑–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫",e,!0)}}}),p=n.ce("input",{id:"SP_IMPORT",type:"file",accept:"application/JSON",style:{display:"none"},onchange:()=>{let e,t=n.qs("#SP_BACKUP_JSON"),s=n.qs("#SP_IMPORT").files[0];const r=new FileReader;r.onload=()=>{try{e=r.result,JSON.parse(e),n.setCookie("SP_PLUS_SET",e),t.value=a(JSON.parse(e),null,4),n.modalMessage("–ò–º–ø–æ—Ä—Ç –∏ —ç–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫","–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã",!0,3)}catch(e){n.modalMessage("–û—à–∏–±–∫–∞ —Ä–∞–∑–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫",e,!0)}},r.readAsText(s)}}),u=n.ce("button",{className:"user__tools-link table__cell sp_btn_line sp_btn-list",innerHTML:'\n                    <span class="sp sp-restore-g"></span>\n                    <span style="color: #3CA93C; padding-left: 10px">–ò–º–ø–æ—Ä—Ç</span>\n                ',onclick:()=>n.qs("#SP_IMPORT").click()}),_=n.ce("button",{className:"user__tools-link sp_btn-list",innerHTML:'\n                    <span class="sp sp-download-blue"></span>\n                    <span style="color: #57A3EA; padding-left: 10px">–≠–∫—Å–ø–æ—Ä—Ç</span>\n                ',onclick:()=>{n.modalConfirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫?",!1,()=>{let e=new Blob([a(r._SETTINGS,null,4)],{type:"text/plain"}),t=n.ce("a",{href:URL.createObjectURL(e),download:`spaces-plus-${+new Date}.json`});t.click(),t.remove()})}}),h=n.ce("textarea",{className:"text-input",id:"SP_BACKUP_JSON",rows:20,innerHTML:a(r._SETTINGS,null,4)});i.appendChild(e),e.appendChild(l),l.appendChild(c),c.appendChild(h),o.appendChild(d),i.appendChild(o),s.appendChild(p),s.appendChild(u),s.appendChild(_),null===(t=n.qs("#SP_PLUS_ABOUT").previousElementSibling)||void 0===t||t.after(s)}catch(e){n.logger.error("settingsBackupMenu.ts",e)}}},function(e,t){var s,n,r,i=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}e.exports=function(e,t,i,a){var l;if(s="",n="",a||(a=0),"number"!=typeof a)throw new Error("beaufifier: limit must be a number");if("number"==typeof i)for(l=0;l<i;l+=1)n+=" ";else"string"==typeof i&&(n=i);if(r=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("beautifier: wrong replacer parameter");return function e(t,i,a){var l,c,d,p,u,_=s,h=i[t];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(t)),"function"==typeof r&&(h=r.call(i,t,h)),typeof h){case"string":return o(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(s+=n,u=[],"[object Array]"===Object.prototype.toString.apply(h)){for(p=h.length,l=0;l<p;l+=1)u[l]=e(l,h,a)||"null";return d=0===u.length?"[]":s?s.length+u.join(", ").length+4>a?"[\n"+s+u.join(",\n"+s)+"\n"+_+"]":"[ "+u.join(", ")+" ]":"["+u.join(",")+"]",s=_,d}if(r&&"object"==typeof r)for(p=r.length,l=0;l<p;l+=1)"string"==typeof r[l]&&(d=e(c=r[l],h,a))&&u.push(o(c)+(s?": ":":")+d);else for(c in h)Object.prototype.hasOwnProperty.call(h,c)&&(d=e(c,h,a))&&u.push(o(c)+(s?": ":":")+d);return d=0===u.length?"{}":s?s.length+u.join(", ").length+4>a?"{\n"+s+u.join(",\n"+s)+"\n"+_+"}":"{ "+u.join(", ")+" }":"{"+u.join(",")+"}",s=_,d}}("",{"":e},a)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsRecentSmiles=void 0;const n=s(0),r=s(2);t.settingsRecentSmiles=e=>{var t;let s=n.ce("div",{id:"SP_RECENTS_SETTINGS",className:"sp_settings-wrap"}),i=n.ce("label",{innerHTML:'–°–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–º–∞–π–ª–∏–∫–æ–≤:<div class="label__desc">–æ—Ç 10 –¥–æ 60</div>',className:"label"}),a=n.ce("input",{type:"text",className:"text-input",size:4,maxLength:2,value:r._SETTINGS.recentSmiles.max,oninput:e=>{const t=e.target.value;/^([1-5][0-9]|60)$/i.test(t)?(n.setSettings("recentSmiles.max",t),a.classList.remove("sp-input-error")):a.classList.add("sp-input-error")}});s.appendChild(i),s.appendChild(a),null===(t=e.parentElement)||void 0===t||t.after(s)}}]);